(function(t){function e(e){for(var s,n,c=e[0],o=e[1],l=e[2],p=0,m=[];p<c.length;p++)n=c[p],r[n]&&m.push(r[n][0]),r[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,c=1;c<a.length;c++){var o=a[c];0!==r[o]&&(s=!1)}s&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},r={app:0},i=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/vue-spotify/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"05e4":function(t,e,a){},"086b":function(t,e,a){"use strict";var s=a("82f6"),r=a.n(s);r.a},"0940":function(t,e,a){},"09ba":function(t,e,a){"use strict";var s=a("ab9f"),r=a.n(s);r.a},"0cfb":function(t,e,a){},"0e0f":function(t,e,a){},1243:function(t,e,a){"use strict";var s=a("8d08"),r=a.n(s);r.a},1797:function(t,e,a){"use strict";var s=a("0940"),r=a.n(s);r.a},"1ce0":function(t,e,a){"use strict";var s=a("4e45"),r=a.n(s);r.a},"1e40":function(t,e,a){},"1f31":function(t,e,a){},"2a7a":function(t,e,a){"use strict";var s=a("ca98"),r=a.n(s);r.a},"2f11":function(t,e,a){"use strict";var s=a("484d"),r=a.n(s);r.a},"2f68":function(t,e,a){"use strict";var s=a("3a71"),r=a.n(s);r.a},"2fa8":function(t,e,a){"use strict";var s=a("3861"),r=a.n(s);r.a},3435:function(t,e,a){"use strict";var s=a("5570"),r=a.n(s);r.a},3705:function(t,e,a){},3764:function(t,e,a){},"37a9":function(t,e,a){"use strict";var s=a("3974"),r=a.n(s);r.a},"37e0":function(t,e,a){"use strict";var s=a("547c"),r=a.n(s);r.a},3850:function(t,e,a){"use strict";var s=a("8996"),r=a.n(s);r.a},3861:function(t,e,a){},3974:function(t,e,a){},"3a71":function(t,e,a){},4271:function(t,e,a){},4371:function(t,e,a){},"43b9":function(t,e,a){"use strict";var s=a("0e0f"),r=a.n(s);r.a},"44b8":function(t,e,a){"use strict";var s=a("af8d"),r=a.n(s);r.a},4515:function(t,e,a){"use strict";var s=a("05e4"),r=a.n(s);r.a},"46ae":function(t,e,a){},"481e":function(t,e,a){"use strict";var s=a("c411"),r=a.n(s);r.a},"484d":function(t,e,a){},"4c95":function(t,e,a){"use strict";var s=a("930b"),r=a.n(s);r.a},"4e01":function(t,e,a){"use strict";var s=a("4371"),r=a.n(s);r.a},"4e45":function(t,e,a){},"547c":function(t,e,a){},5570:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app",attrs:{id:"app"}},[a("notification"),t.notFound?t._e():a("app-layout"),t.notFound?a("not-found-view"):t._e()],1)},i=[],n=a("be94"),c=a("2f62"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-layout"},[a("navbar"),a("div",{staticClass:"app-layout__wrap"},[a("sidebar"),a("div",{staticClass:"app-layout__main"},[a("router-view")],1)],1),a("player")],1)},l=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar"},[a("navbar-history"),a("navbar-search"),a("navbar-nav")],1)},p=[],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-history"},[a("a",{staticClass:"navbar-history__link",on:{click:t.onPrevClick}},[a("icon",{attrs:{name:"chevron-left"}})],1),a("a",{staticClass:"navbar-history__link",on:{click:t.onNextClick}},[a("icon",{attrs:{name:"chevron-right"}})],1)])},d=[],f={name:"navbar-history",methods:{onNextClick:function(){this.$router.forward()},onPrevClick:function(){this.$router.back()}}},v=f,h=(a("a6fc"),a("2877")),b=Object(h["a"])(v,m,d,!1,null,"2f1e860b",null);b.options.__file="NavbarHistory.vue";var y=b.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"navbar-search"},[a("input",{staticClass:"navbar-search__input",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},on:{focus:t.onFocus,keyup:t.onKeyUp}}),a("button",{staticClass:"navbar-search__btn"},[a("icon",{attrs:{name:"search"}})],1)])},k=[],g=(a("386d"),a("a481"),a("7f7f"),a("8c4f")),w=a("0e44"),x={notFound:!1},C={notFound:function(t){return t.notFound}},E={SET_NOT_FOUND:function(t,e){t.notFound=e}},T={notFoundPage:function(t,e){var a=t.commit;a("SET_NOT_FOUND",e)},init:function(t){var e=t.dispatch,a=t.rootGetters;a["auth/getAccessToken"]&&e("user/getUserProfile",null,{root:!0}),e("player/init",null,{root:!0})}},S={namespaced:!0,state:x,getters:C,mutations:E,actions:T},A=S,O=(a("96cf"),a("1da1")),j=a("bc3a"),R=a.n(j),P="https://stark-harbor-25810.herokuapp.com/",I=R.a.create({baseURL:P}),U=I,D={getUserAuthURL:function(){return U.get("login")},refreshToken:function(t){return U.get("refresh_token?refresh_token=".concat(t))}},q=R.a.create({baseURL:"https://api.spotify.com/v1/"}),L=q,M={getUserProfile:function(t){return t?L.get("users/".concat(t)):L.get("me")}},N={getCurrentUserPlaylists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e=arguments.length>1?arguments[1]:void 0;return L.get("me/playlists",{params:{limit:t,offset:e}})},getPlaylist:function(t,e,a){return L.get("users/".concat(t,"/playlists/").concat(e),{params:{fields:a}})},getPlalistsTracks:function(t,e,a,s,r){return L.get("users/".concat(t,"/playlists/").concat(e,"/tracks"),{params:{fields:r,limit:s,offset:a}})},getUserPlalists:function(t,e,a){return L.get("users/".concat(t,"/playlists"),{params:{limit:a,offset:e}})},createPlaylist:function(t,e,a){return L.post("users/".concat(t,"/playlists"),{name:e,description:a})},updatePlaylist:function(t,e,a,s){return L.put("users/".concat(t,"/playlists/").concat(e),{name:a,description:s})},updatePlaylistCover:function(t,e,a){return L({method:"put",url:"users/".concat(t,"/playlists/").concat(e,"/images"),headers:{"content-type":"image/jpeg"},data:Object(n["a"])({},a)})}},F={nextTrack:function(t){return L.post("me/player/next",{device_id:t})},previousTrack:function(t){return L.post("me/player/previous",{device_id:t})},pause:function(t){return L.put("me/player/pause",{device_id:t})},play:function(t,e,a){return L({method:"put",url:"me/player/play",data:Object(n["a"])({offset:e,uris:a},t&&{context_uri:t})})},volume:function(t,e){return L({method:"put",url:"/me/player/volume",params:{volume_percent:t,device_id:e}})},shuffle:function(t,e){return L({method:"put",url:"/me/player/shuffle",params:{state:!t,device_id:e}})},repeat:function(t,e){return L({method:"put",url:"/me/player/repeat",params:{state:t,device_id:e}})},seekToPosition:function(t,e){return L({method:"put",url:"/me/player/seek",params:{position_ms:t,device_id:e}})},getUserDevices:function(){return L.get("me/player/devices")},getCurrentPlayback:function(){return L.get("me/player")},transferUsersPlayback:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return L.put("me/player",{device_ids:t,play:e})}},V={getTracks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=arguments.length>2?arguments[2]:void 0;return L.get("me/tracks",{params:{limit:e,offset:t,market:a}})},getAlbums:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=arguments.length>2?arguments[2]:void 0;return L.get("me/albums",{params:{limit:e,offset:t,market:a}})},checkUserSavedTracks:function(t){return L.get("me/tracks/contains",{params:{ids:t}})},saveTracks:function(t){return L.put("me/tracks",{ids:t})},removeTracks:function(t){return L.delete("me/tracks",{data:{ids:t}})}},B={getNewReleases:function(t,e,a){return L.get("browse/new-releases",{params:{limit:e,offset:t,country:a}})},getCategories:function(t,e,a,s){return L.get("browse/categories",{params:{limit:e,offset:t,country:a,locale:s}})},getCategoryPlaylists:function(t,e,a,s){return L.get("browse/categories/".concat(t,"/playlists"),{params:{category_id:t,limit:a,offset:e,country:s}})}},Q={getAlbum:function(t){return L.get("albums/".concat(t))},getAlbumTracks:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,s=arguments.length>3?arguments[3]:void 0;return L.get("albums/".concat(t,"/tracks"),{params:{limit:a,offset:e,market:s}})},getAlbums:function(t,e){return L.get("albums",{ids:t,market:e})}},$={getArtist:function(t){return L.get("artists/".concat(t))},getArtistTopTracks:function(t,e){return L.get("artists/".concat(t,"/top-tracks"),{params:{country:e}})},getArtistAlbums:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,r=arguments.length>4?arguments[4]:void 0;return L.get("artists/".concat(t,"/albums"),{params:{include_groups:e,limit:s,offset:a,market:r}})}},G={followArtist:function(t,e){return L.put("me/following",{params:{type:t,ids:e}})},unfollowArtist:function(t,e){return L.delete("me/following",{params:{type:t,ids:e}})},checkIfUserFollowPlaylist:function(t,e,a){return L.get("users/".concat(t,"/playlists/").concat(e,"/followers/contains"),{params:{ids:a}})},followPlaylist:function(t,e){return L({method:"put",url:"users/".concat(t,"/playlists/").concat(e,"/followers"),headers:{"content-type":"application/json"}})},unfollowPlaylist:function(t,e){return L.delete("users/".concat(t,"/playlists/").concat(e,"/followers"))},getFollowedArtists:function(t,e){return L.get("me/following?type=artist",{params:{limit:t,after:e}})}},Y={search:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"album,artist,playlist,track",a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return L.get("search",{params:{q:t,type:e,limit:s,offset:a,market:r,include_external:i}})}},K={request:L,users:M,playlists:N,player:F,library:V,browse:B,albums:Q,artists:$,follow:G,search:Y},z={auth:D,spotify:K},H={accessToken:"",refreshToken:"",expiryTime:""},J={getAccessToken:function(t){return t.accessToken},getRefreshToken:function(t){return t.refreshToken},getExpiryTime:function(t){return t.expiryTime}},Z={SET_ACCESS_TOKEN:function(t,e){t.accessToken=e},SET_REFRESH_TOKEN:function(t,e){t.refreshToken=e},SET_EXPIRY_TIME:function(t,e){t.expiryTime=e}},W={login:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.auth.getUserAuthURL();case 3:e=t.sent,e.data&&(window.location.href=e.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),refreshToken:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.commit,s=e.state,t.prev=1,!s.refreshToken){t.next=8;break}return t.next=5,z.auth.refreshToken(s.refreshToken);case 5:return r=t.sent,a("SET_ACCESS_TOKEN",r.data.access_token),t.abrupt("return",r);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:case"end":return t.stop()}},t,this,[[1,10]])}));return function(e){return t.apply(this,arguments)}}(),logout:function(){var t=document.createElement("script");t.src="https://www.spotify.com/logout/",document.getElementById("app").appendChild(t),window.localStorage.clear(),window.sessionStorage.clear(),setTimeout(function(){location.reload()},1e3)},setAccessToken:function(t,e){var a=t.commit;a("SET_ACCESS_TOKEN",e)},setRefreshToken:function(t,e){var a=t.commit;a("SET_REFRESH_TOKEN",e)},setExpiryTime:function(t,e){var a=t.commit;a("SET_EXPIRY_TIME",e)}},X={namespaced:!0,state:H,getters:J,mutations:Z,actions:W},tt=X,et=a("2909"),at={profile:"",playlists:""},st={getProfile:function(t){return t.profile},getPlaylists:function(t){return t.playlists}},rt={SET_PROFILE:function(t,e){t.profile=e},SET_PLAYLISTS:function(t,e){var a;t.playlists?(t.playlists.limit=e.limit,t.playlists.offset=e.offset,t.playlists.next=e.next,t.playlists.total=e.total,(a=t.playlists.items).push.apply(a,Object(et["a"])(e.items))):t.playlists=e},CLEAR_PLAYLISTS:function(t){t.playlists=""}},it={getUserProfile:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,z.spotify.users.getUserProfile();case 4:s=t.sent,a("SET_PROFILE",s.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),getCurrentUserPlaylists:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a,s,r,i,n,c=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.getters,s=e.commit,r=c.length>1&&void 0!==c[1]?c[1]:50,i=0,a.getPlaylists&&(i=a.getPlaylists.limit+a.getPlaylists.offset),a.getPlaylists.total<i){t.next=15;break}return t.prev=5,t.next=8,z.spotify.playlists.getCurrentUserPlaylists(r,i);case 8:n=t.sent,s("SET_PLAYLISTS",n.data),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),console.log(t.t0);case 15:case"end":return t.stop()}},t,this,[[5,12]])}));return function(e){return t.apply(this,arguments)}}(),clearUserPlaylists:function(t){var e=t.commit;e("CLEAR_PLAYLISTS")}},nt={namespaced:!0,state:at,getters:st,mutations:rt,actions:it},ct=nt,ot={query:"",result:"",isLoading:!1,error:null,albums:"",albumsIsLoading:!1,albumsError:null,artists:"",artistsIsLoading:!1,artistsError:null,playlists:"",playlistsIsLoading:!1,playlistsError:null,tracks:"",tracksIsLoading:!1,tracksError:null},lt={},ut={SET_SEARCH_QUERY:function(t,e){t.query=e},REQUEST_SEARCH:function(t){t.isLoading=!0},REQUEST_SEARCH_SUCCESS:function(t,e){t.result=e,t.albums=e.albums,t.artists=e.artists,t.playlists=e.playlists,t.tracks=e.tracks,t.isLoading=!1},REQUEST_SEARCH_ERROR:function(t,e){t.isLoading=!1,t.error=e},REQUEST_GET_ALBUMS:function(t){t.albumsIsLoading=!0},REQUEST_GET_ALBUMS_SUCCESS:function(t,e){t.albumsIsLoading=!1,t.albums=Object(n["a"])({},e.albums,{items:Object(et["a"])(t.albums.items).concat(Object(et["a"])(e.albums.items))})},REQUEST_GET_ALBUMS_ERROR:function(t,e){t.albumsIsLoading=!1,t.albumsError=e},REQUEST_GET_ARTISTS:function(t){t.artistsIsLoading=!0},REQUEST_GET_ARTISTS_SUCCESS:function(t,e){t.artistsIsLoading=!1,t.artists=Object(n["a"])({},e.artists,{items:Object(et["a"])(t.artists.items).concat(Object(et["a"])(e.artists.items))})},REQUEST_GET_ARTISTS_ERROR:function(t,e){t.artistsIsLoading=!1,t.artistsError=e},REQUEST_GET_PLAYLISTS:function(t){t.playlistsIsLoading=!0},REQUEST_GET_PLAYLISTS_SUCCESS:function(t,e){t.playlistsIsLoading=!1,t.playlists=Object(n["a"])({},e.playlists,{items:Object(et["a"])(t.playlists.items).concat(Object(et["a"])(e.playlists.items))})},REQUEST_GET_PLAYLISTS_ERROR:function(t,e){t.playlistsIsLoading=!1,t.playlistsError=e},REQUEST_GET_TRACKS:function(t){t.tracksIsLoading=!0},REQUEST_GET_TRACKS_SUCCESS:function(t,e){t.tracksIsLoading=!1,t.tracks=Object(n["a"])({},e.tracks,{items:Object(et["a"])(t.tracks.items).concat(Object(et["a"])(e.tracks.items))})},REQUEST_GET_TRACKS_ERROR:function(t,e){t.tracksIsLoading=!1,t.tracksError=e}},pt={setSearchQuery:function(t,e){var a=t.commit;a("SET_SEARCH_QUERY",e)},requestSearch:function(t){var e=t.commit;e("REQUEST_SEARCH")},requestSearchSuccess:function(t,e){var a=t.commit;a("REQUEST_SEARCH_SUCCESS",e)},requestSearchError:function(t,e){var a=t.commit;a("REQUEST_SEARCH_ERROR",e)},search:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e,a){var s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,s=e.dispatch,s("requestSearch"),s("setSearchQuery",a),t.prev=3,t.next=6,z.spotify.search.search(a);case 6:r=t.sent,s("requestSearchSuccess",r.data),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),s("requestSearchError",t.t0);case 13:case"end":return t.stop()}},t,this,[[3,10]])}));return function(e,a){return t.apply(this,arguments)}}(),requestGetAlbums:function(t){var e=t.commit;e("REQUEST_GET_ALBUMS")},requestGetAlbumsSuccess:function(t,e){var a=t.commit;a("REQUEST_GET_ALBUMS_SUCCESS",e)},requestGetAlbumsError:function(t,e){var a=t.commit;a("REQUEST_GET_ALBUMS_ERROR",e)},getAlbums:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a,s,r,i,n,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.commit,a=e.dispatch,s=e.state,r=s.albums,i=s.query,a("requestGetAlbums"),t.prev=2,!r.next){t.next=9;break}return n=r.offset+r.limit,t.next=7,z.spotify.search.search(i,"album",n);case 7:c=t.sent,a("requestGetAlbumsSuccess",c.data);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),a("requestGetAlbumsError",t.t0);case 14:case"end":return t.stop()}},t,this,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),requestGetArtists:function(t){var e=t.commit;e("REQUEST_GET_ARTISTS")},requestGetArtistsSuccess:function(t,e){var a=t.commit;a("REQUEST_GET_ARTISTS_SUCCESS",e)},requestGetArtistsError:function(t,e){var a=t.commit;a("REQUEST_GET_ARTISTS_ERROR",e)},getArtists:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a,s,r,i,n,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.commit,a=e.dispatch,s=e.state,r=s.artists,i=s.query,a("requestGetArtists"),t.prev=2,!r.next){t.next=9;break}return n=r.offset+r.limit,t.next=7,z.spotify.search.search(i,"artist",n);case 7:c=t.sent,a("requestGetArtistsSuccess",c.data);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),a("requestGetArtistsError",t.t0);case 14:case"end":return t.stop()}},t,this,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),requestGetPlaylists:function(t){var e=t.commit;e("REQUEST_GET_PLAYLISTS")},requestGetPlaylistsSuccess:function(t,e){var a=t.commit;a("REQUEST_GET_PLAYLISTS_SUCCESS",e)},requestGetPlaylistsError:function(t,e){var a=t.commit;a("REQUEST_GET_PLAYLISTS_ERROR",e)},getPlaylists:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a,s,r,i,n,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.commit,a=e.dispatch,s=e.state,r=s.playlists,i=s.query,a("requestGetPlaylists"),t.prev=2,!r.next){t.next=9;break}return n=r.offset+r.limit,t.next=7,z.spotify.search.search(i,"playlist",n);case 7:c=t.sent,a("requestGetPlaylistsSuccess",c.data);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),a("requestGetPlaylistsError",t.t0);case 14:case"end":return t.stop()}},t,this,[[2,11]])}));return function(e){return t.apply(this,arguments)}}(),requestGetTracks:function(t){var e=t.commit;e("REQUEST_GET_TRACKS")},requestGetTracksSuccess:function(t,e){var a=t.commit;a("REQUEST_GET_TRACKS_SUCCESS",e)},requestGetTracksError:function(t,e){var a=t.commit;a("REQUEST_GET_TRACKS_ERROR",e)},getTracks:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a,s,r,i,n,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.commit,a=e.dispatch,s=e.state,r=s.tracks,i=s.query,a("requestGetTracks"),t.prev=2,!r.next){t.next=9;break}return n=r.offset+r.limit,t.next=7,z.spotify.search.search(i,"track",n);case 7:c=t.sent,a("requestGetTracksSuccess",c.data);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),a("requestGetTracksError",t.t0);case 14:case"end":return t.stop()}},t,this,[[2,11]])}));return function(e){return t.apply(this,arguments)}}()},mt={namespaced:!0,state:ot,getters:lt,mutations:ut,actions:pt},dt=mt,ft={deviceID:"",playback:"",playbackContext:""},vt={getDeviceID:function(t){return t.deviceID},getPlayback:function(t){return t.playback},getPlaybackContext:function(t){return t.playbackContext},isPlaying:function(t){return t.playback.is_playing}},ht={SET_DEVICE_ID:function(t,e){t.deviceID=e},SET_PLAYBACK:function(t,e){t.playback=e},SET_PLAYBACK_CONTEXT:function(t,e){t.playbackContext=e}},bt={init:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a,s,r,i,n,c,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:o=function(){return o=Object(O["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){var a=setInterval(Object(O["a"])(regeneratorRuntime.mark(function s(){var r;return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.getCurrentState();case 2:r=s.sent,null!==r&&(t(r),clearInterval(a));case 4:case"end":return s.stop()}},s,this)})))}));case 1:case"end":return t.stop()}},t,this)})),o.apply(this,arguments)},c=function(t){return o.apply(this,arguments)},n=function(){return n=Object(O["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){window.Spotify?t(window.Spotify):window.onSpotifyWebPlaybackSDKReady=function(){t(window.Spotify)}}));case 1:case"end":return t.stop()}},t,this)})),n.apply(this,arguments)},i=function(){return n.apply(this,arguments)},a=e.commit,s=e.rootGetters,r=e.dispatch,window.onSpotifyWebPlaybackSDKReady=function(){},Object(O["a"])(regeneratorRuntime.mark(function t(){var e,n,o,l,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:return e=t.sent,n=e.Player,o=s["auth/getAccessToken"],l=new n({name:"Vue Spotify Web Player",getOAuthToken:function(t){t(o)}}),l.addListener("initialization_error",function(t){var e=t.message;console.error(e)}),l.addListener("authentication_error",function(t){var e=t.message;console.error(e),r("auth/login",null,{root:!0})}),l.addListener("account_error",function(t){var e=t.message;console.error(e)}),l.addListener("playback_error",function(t){var e=t.message;console.error(e)}),l.addListener("player_state_changed",function(t){t&&(r("setPlaybackContext",t),r("setPlayback"))}),l.addListener("ready",function(t){var e=t.device_id;console.log("Ready with Device ID",e),a("SET_DEVICE_ID",e),z.spotify.player.transferUsersPlayback([e],!0)}),l.addListener("not_ready",function(t){var e=t.device_id;console.log("Device ID has gone offline",e)}),t.next=15,l.connect();case 15:if(u=t.sent,!u){t.next=19;break}return t.next=19,c(l);case 19:case"end":return t.stop()}},t,this)}))();case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),setPlayback:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,t.next=4,z.spotify.player.getCurrentPlayback();case 4:s=t.sent,a("SET_PLAYBACK",s.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(e){return t.apply(this,arguments)}}(),setPlaybackContext:function(t,e){var a=t.commit;a("SET_PLAYBACK_CONTEXT",e)}},yt={namespaced:!0,state:ft,getters:vt,mutations:ht,actions:bt},_t=yt,kt={lastSavedTrack:"",lastRemovedTrack:""},gt={getSavedTrack:function(t){return t.lastSavedTrack},getRemovedTrack:function(t){return t.lastRemovedTrack}},wt={SET_SAVED_TRACK:function(t,e){t.lastRemovedTrack="",t.lastSavedTrack=e},SET_REMOVED_TRACK:function(t,e){t.lastSavedTrack="",t.lastRemovedTrack=e}},xt={saveTrack:function(t,e){var a=t.commit;a("SET_SAVED_TRACK",e)},removeTrack:function(t,e){var a=t.commit;a("SET_REMOVED_TRACK",e)}},Ct={namespaced:!0,state:kt,getters:gt,mutations:wt,actions:xt},Et=Ct,Tt={playlist:""},St={getPlaylist:function(t){return t.playlist}},At={SET_PLAYLIST:function(t,e){t.playlist=e}},Ot={fetchPlaylist:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e,a){var s,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,t.prev=1,r="uri, name, type, images, description, owner, followers",t.next=5,z.spotify.playlists.getPlaylist(a.userID,a.playlistID,r);case 5:i=t.sent,s("SET_PLAYLIST",i.data),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(e,a){return t.apply(this,arguments)}}()},jt={namespaced:!0,state:Tt,getters:St,mutations:At,actions:Ot},Rt=jt,Pt={notifications:[]},It={getNotifications:function(t){return t.notifications}},Ut={NOTIFICATION_ADD:function(t,e){t.notifications.push(e)},NOTIFICATION_REMOVE:function(t,e){var a=t.notifications.indexOf(e);t.notifications.splice(a,1)}},Dt={add:function(t,e){var a=t.commit,s=t.dispatch;a("NOTIFICATION_ADD",e),e.duration>0&&setTimeout(function(){s("remove",e)},e.duration)},remove:function(t,e){var a=t.commit;a("NOTIFICATION_REMOVE",e)}},qt={namespaced:!0,state:Pt,getters:It,mutations:Ut,actions:Dt},Lt=qt,Mt=!1,Nt=function(t){L.interceptors.request.use(function(e){return t.getters["auth/getAccessToken"]&&(e.headers.common["Authorization"]="Bearer ".concat(t.getters["auth/getAccessToken"])),e},null),L.interceptors.response.use(null,function(e){var a=e.response,s=a.status,r=a.data;if(t.getters["auth/getAccessToken"]&&401===s&&!Mt)Mt=!0,t.dispatch("auth/refreshToken").then(function(){Mt=!1,location.reload()});else{if(404===s)throw e.response;403===s?"PREMIUM_REQUIRED"===r.error.reason&&t.dispatch("notification/add",{type:"warning",message:"You need to have premium account."}):t.dispatch("auth/login")}})},Ft=Nt,Vt=!1;s["a"].use(c["a"]);var Bt=Object(w["a"])({key:"spotify_app_state",reducer:function(t){return{auth:t.auth}}}),Qt=new c["a"].Store({modules:{app:A,auth:tt,user:ct,search:dt,player:_t,library:Et,playlist:Rt,notification:Lt},plugins:[Ft,Bt],strict:Vt}),$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"})},Gt=[],Yt={name:"Login",methods:Object(n["a"])({},Object(c["b"])("auth",["setAccessToken","setRefreshToken","setExpiryTime"])),created:function(){var t=this.$route.query,e=t.access_token,a=t.refresh_token,s=t.expires_in,r=t.error;r?console.error(r):e&&a&&s&&(this.setAccessToken(e),this.setRefreshToken(a),this.setExpiryTime(s)),jr.push("/")}},Kt=Yt,zt=Object(h["a"])(Kt,$t,Gt,!1,null,null,null);zt.options.__file="Login.vue";var Ht=zt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"user-view",on:{vScroll:t.loadMore}},[a("div",{staticClass:"user-view__info"},[t.user.images&&t.user.images[0]?a("img",{staticClass:"user-view__avatar",attrs:{src:t.user.images[0].url}}):a("div",{staticClass:"user-view__avatar"},[a("icon",{staticClass:"user-view__user-icon",attrs:{name:"user"}})],1),a("h1",{staticClass:"user-view__name"},[t._v(t._s(t.user.display_name))])]),t.playlists.items.length?a("entity-header",{attrs:{title:"Public Playlists",small:!0}}):t._e(),a("media-container",t._l(t.playlists.items,function(t){return a("media-object",{key:t.id,attrs:{id:t.id,uri:t.uri,coverImg:t.images,name:t.name,type:t.type}})}))],1)},Zt=[],Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.elClass},[a("h2",{staticClass:"entity-header__title"},[t._v(t._s(t.title))])])},Xt=[],te=(a("f386"),{name:"entity-header",props:{title:{type:String},small:{type:Boolean,default:!1}},computed:{elClass:function(){return["entity-header",{"entity-header--small":this.small}]}}}),ee=te,ae=(a("4c95"),Object(h["a"])(ee,Wt,Xt,!1,null,"b534bd16",null));ae.options.__file="index.vue";var se=ae.exports,re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.elClass},[a("router-link",{staticClass:"media-object__cover",attrs:{tag:"div",to:t.createUrl()}},[t.coverImg[0]?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.coverImg[0].url,expression:"coverImg[0].url"}],staticClass:"media-object__cover-inner",attrs:{alt:t.name+"-cover"}}):a("div",{staticClass:"media-object__cover-inner"},[a("icon",{staticClass:"media-object__music-icon",attrs:{name:"music"}})],1),a("div",{staticClass:"media-object__cover-hover"},[a("button",{staticClass:"media-object__play icon-play-circle",on:{click:t.onPlay}}),a("button",{staticClass:"media-object__sound-on icon-sound-on"}),a("button",{staticClass:"media-object__pause icon-pause-circle",on:{click:t.onPause}})])]),a("div",{staticClass:"media-object__info"},[a("div",[a("router-link",{staticClass:"media-object__name",attrs:{to:t.createUrl()}},[t._v(t._s(t.name))])],1),t._l(t.artists,function(e,s){return t.artists?a("router-link",{key:e.id,staticClass:"media-object__artist",attrs:{to:{name:"artist",params:{id:e.id}}}},[t._v("\n      "+t._s(e.name)+"\n      "),s!==t.artists.length-1?[t._v(", ")]:t._e()],2):t._e()})],2)],1)},ie=[],ne=(a("28a5"),{name:"media-object",props:{id:{required:!0},uri:{required:!0},coverImg:{required:!0},name:{type:String,required:!0},type:{required:!0},artists:{required:!1}},computed:Object(n["a"])({},Object(c["c"])("player",{playbackContext:"getPlaybackContext"}),{elClass:function(){return["media-object",{"media-object--playing":this.playbackContext&&!this.playbackContext.paused&&this.playbackContext.context.uri&&this.playbackContext.context.uri.indexOf(this.id)>=0,"media-object--active":this.playbackContext&&this.playbackContext.context.uri&&this.playbackContext.context.uri.indexOf(this.id)>=0,"media-object--no-image":!this.coverImg[0]}]}}),methods:{createUrl:function(){var t=this.uri.split(":"),e=null;switch(this.type){case"album":e={name:"album",params:{id:this.id}};break;case"artist":e={name:"artist",params:{id:this.id}};break;case"playlist":e={name:"playlist",params:{user_id:t[2],playlist_id:t[t.length-1]}};break}return e},onPlay:function(t){t.stopPropagation(),this.playbackContext&&this.playbackContext.context.uri&&this.playbackContext.context.uri.indexOf(this.id)>=0?z.spotify.player.play():z.spotify.player.play(this.uri)},onPause:function(t){t.stopPropagation(),z.spotify.player.pause()}}}),ce=ne,oe=(a("613d"),Object(h["a"])(ce,re,ie,!1,null,"05829d54",null));oe.options.__file="index.vue";var le=oe.exports,ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-container"},[t._t("default")],2)},pe=[],me={name:"media-container"},de=me,fe=(a("1243"),Object(h["a"])(de,ue,pe,!1,null,null,null));fe.options.__file="index.vue";var ve=fe.exports,he={name:"user-view",components:{EntityHeader:se,MediaObject:le,MediaContainer:ve},data:function(){return{user:"",userID:"",playlists:{limit:25,offset:0,total:1,items:[]},isMore:!1}},methods:Object(n["a"])({},Object(c["b"])({notFoundPage:"app/notFoundPage"}),{getUser:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.spotify.users.getUserProfile(e);case 3:a=t.sent,this.user=a.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.notFoundPage(!0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),getUserPlaylists:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.playlists.total>this.playlists.offset)){t.next=9;break}return t.next=4,z.spotify.playlists.getUserPlalists(e,this.playlists.offset,this.playlists.limit);case 4:s=t.sent,this.playlists.offset=s.data.offset+this.playlists.limit,this.playlists.total=s.data.total,(a=this.playlists.items).push.apply(a,Object(et["a"])(s.data.items)),this.isMore=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(e){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getUserPlaylists(this.userID));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}),created:function(){this.userID=this.$route.params.id,this.getUser(this.userID),this.getUserPlaylists(this.userID)}},be=he,ye=(a("086b"),Object(h["a"])(be,Jt,Zt,!1,null,"1856db5e",null));ye.options.__file="index.vue";var _e=ye.exports,ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-view"},[t.query?t._e():a("div",{staticClass:"search-view__info"},[t._v("\n    Find your favorite songs, artists, albums and playlists.\n  ")]),t.query?a("nav-view",{attrs:{links:t.navLinks}}):t._e(),t.isNoResultVisible?a("div",{staticClass:"search-view__info"},[t._v("\n    No result found for "),a("strong",[t._v('"'+t._s(t.query)+'"')]),a("div",[t._v("\n      Please make sure your words are spelled correctly or use less of different keywords.\n    ")])]):t._e(),t.isLoadingData?a("loading-spinner"):t._e(),a("div",{staticClass:"search-view__content"},[a("router-view")],1)],1)},ge=[],we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"nav-view"},[a("ul",{staticClass:"nav-view__nav"},t._l(t.links,function(e,s){return a("router-link",{directives:[{name:"show",rawName:"v-show",value:void 0===e.isVisible||e.isVisible,expression:"item.isVisible !== undefined ? item.isVisible : true"}],key:s,staticClass:"nav-view__nav-item",attrs:{to:e.to,exact:"",tag:"li","active-class":"nav-view__nav-item--active"}},[t._v("\n      "+t._s(e.name)+"\n    ")])}))])},xe=[],Ce={name:"nav-view",props:{links:{required:!0}}},Ee=Ce,Te=(a("772f"),Object(h["a"])(Ee,we,xe,!1,null,"bbb7ad62",null));Te.options.__file="index.vue";var Se=Te.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loading-spinner"},t._l(12,function(t){return a("div",{class:["circle-"+t]})}))},Oe=[],je={name:"loading-spinner"},Re=je,Pe=(a("ea7c"),Object(h["a"])(Re,Ae,Oe,!1,null,"12571292",null));Pe.options.__file="index.vue";var Ie=Pe.exports,Ue={name:"search-view",components:{NavView:Se,LoadingSpinner:Ie},computed:Object(n["a"])({},Object(c["d"])("search",["query","result","isLoading","error","albumsIsLoading","artistsIsLoading","playlistsIsLoading","tracksIsLoading"]),{isLoadingData:function(){return this.isLoading||this.tracksIsLoading||this.albumsIsLoading||this.artistsIsLoading||this.playlistsIsLoading},isTracksExists:function(){return this.result&&this.result.tracks&&this.result.tracks.total>0},isPlaylistsExists:function(){return this.result&&this.result.playlists&&this.result.playlists.total>0},isAlbumsExists:function(){return this.result&&this.result.albums&&this.result.albums.total>0},isArtistsExists:function(){return this.result&&this.result.artists&&this.result.artists.total>0},isResult:function(){return this.isTracksExists||this.isAlbumsExists||this.isPlaylistsExists||this.isArtistsExists},isNoResultVisible:function(){return!this.isResult&&this.query&&!this.isLoading},navLinks:function(){return[{to:{name:"search-result",params:{query:this.query}},name:"Top results"},{to:{name:"search-track",params:{query:this.query}},name:"Tracks",isVisible:this.isTracksExists},{to:{name:"search-playlist",params:{query:this.query}},name:"Playlists",isVisible:this.isPlaylistsExists},{to:{name:"search-album",params:{query:this.query}},name:"Albums",isVisible:this.isAlbumsExists},{to:{name:"search-artist",params:{query:this.query}},name:"Artists",isVisible:this.isArtistsExists}]}}),methods:Object(n["a"])({},Object(c["b"])({notFoundPage:"app/notFoundPage"}))},De=Ue,qe=(a("72b9"),Object(h["a"])(De,ke,ge,!1,null,"9482234c",null));qe.options.__file="index.vue";var Le=qe.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}]},[a("div",[t.isTracksExists?[a("entity-header",{attrs:{title:"Tracks",small:""},nativeOn:{click:function(e){t.goTo("search-track")}}}),a("tracks-list",{attrs:{tracks:t.getTracks}})]:t._e(),t.isPlaylistsExists?[a("entity-header",{attrs:{title:"Playlists",small:""},nativeOn:{click:function(e){t.goTo("search-playlist")}}}),a("media-container",t._l(t.playlists.items,function(e,s){return s<t.maxResults?a("media-object",{key:e.id,attrs:{id:e.id,uri:e.uri,coverImg:e.images,name:e.name,type:e.type}}):t._e()}))]:t._e(),t.isAlbumsExists?[a("entity-header",{attrs:{title:"Albums",small:""},nativeOn:{click:function(e){t.goTo("search-album")}}}),a("media-container",t._l(t.albums.items,function(e,s){return s<t.maxResults?a("media-object",{key:e.id,attrs:{id:e.id,uri:e.uri,coverImg:e.images,name:e.name,artists:e.artists,type:e.type}}):t._e()}))]:t._e(),t.isArtistsExists?[a("entity-header",{attrs:{title:"Artists",small:""},nativeOn:{click:function(e){t.goTo("search-artist")}}}),a("media-container",t._l(t.artists.items,function(e,s){return s<t.maxResults?a("media-object",{key:e.id,attrs:{id:e.id,uri:e.uri,name:e.name,type:e.type,coverImg:e.images}}):t._e()}))]:t._e()],2)])},Ne=[],Fe=(a("ac6a"),a("456d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tracks?a("div",{staticClass:"tracks-list"},t._l(t.tracks,function(e,s){return a("div",{key:s,staticClass:"tracks-list__row",class:t.isActiveTrack(e)},[e.album?a("div",{staticClass:"tracks-list__cell"},[a("img",{staticClass:"tracks-list__img",attrs:{src:e.album.images[2].url,alt:e.album.name}})]):t._e(),a("div",{staticClass:"tracks-list__cell tracks-list__cell--index"},[a("span",{staticClass:"tracks-list__cell-index"},[t._v(t._s(s+1))]),a("track-playback",{attrs:{trackUri:e.uri,tracksUris:t.tracksUris,contextUri:t.contextUri,offset:s}})],1),a("div",{staticClass:"tracks-list__cell"},[a("track-addition",{attrs:{trackID:e.id,isSaved:t.savedTracks[s]},on:{updateTrackstatus:t.onTrackUpdate}})],1),a("div",{staticClass:"tracks-list__cell tracks-list__cell--name"},[t._v("\n      "+t._s(e.name)+"\n      "),e.artists&&t.showArtists?a("span",[t._v("\n           - \n          "),t._l(e.artists,function(s,r){return a("router-link",{key:s.id,staticClass:"tracks-list__link",attrs:{to:{name:"artist",params:{id:s.id}}}},[t._v("\n           "+t._s(s.name)+"\n          "),r!==e.artists.length-1?[t._v(", ")]:t._e()],2)})],2):t._e()]),e.explicit?a("div",{staticClass:"tracks-list__cell tracks-list__cell--explicit"},[a("span",{staticClass:"tracks-list__explicit-label"},[t._v("Explicit")])]):t._e(),a("div",{staticClass:"tracks-list__cell tracks-list__cell--duration"},[t._v("\n      "+t._s(t._f("msToMinutes")(e.duration_ms))+"\n    ")])])})):t._e()}),Ve=[],Be=(a("6b54"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"track-addition"},[t.isSaved?t._e():a("button",{staticClass:"track-addition__button",attrs:{title:"Save to your library"},on:{click:t.saveTrack}},[a("icon",{attrs:{name:"plus"}})],1),t.isSaved?a("button",{staticClass:"track-addition__button track-addition__button--remove",attrs:{title:"Remove from your library"},on:{click:t.removeTrack}},[a("icon",{staticClass:"track-addition__check-icon",attrs:{name:"check"}}),a("icon",{staticClass:"track-addition__times-icon",attrs:{name:"times"}})],1):t._e()])}),Qe=[],$e={name:"track-addition",components:{},props:{trackID:{required:!0},isSaved:{default:!1}},data:function(){return{}},computed:Object(n["a"])({},Object(c["c"])("library",{savedTrack:"getSavedTrack",removedTrack:"getRemovedTrack"})),methods:Object(n["a"])({},Object(c["b"])("library",{saveLastTrack:"saveTrack",removeLastTrack:"removeTrack"}),{saveTrack:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.spotify.library.saveTracks([this.trackID]);case 3:this.saveLastTrack(this.trackID),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}(),removeTrack:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.spotify.library.removeTracks([this.trackID]);case 3:this.removeLastTrack(this.trackID),this.$emit("savedTrackRemove",this.trackID),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()}),watch:{savedTrack:function(t){t===this.trackID&&this.$emit("updateTrackstatus",t)},removedTrack:function(t){t===this.trackID&&this.$emit("updateTrackstatus",t)}}},Ge=$e,Ye=(a("8917"),Object(h["a"])(Ge,Be,Qe,!1,null,"2f15a205",null));Ye.options.__file="index.vue";var Ke=Ye.exports,ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.elClass},[a("button",{staticClass:"track-playback__button track-playback__button--sound-on icon-sound-on"}),a("button",{staticClass:"track-playback__button track-playback__button--play icon-play-circle",on:{click:t.play}}),a("button",{staticClass:"track-playback__button track-playback__button--pause icon-pause-circle",on:{click:t.pause}})])},He=[],Je={name:"track-playback",props:{trackUri:{required:!0},tracksUris:{required:!1},contextUri:{required:!1},offset:{required:!1}},computed:Object(n["a"])({},Object(c["c"])("player",{playback:"getPlayback",context:"getPlaybackContext"}),{elClass:function(){var t=this.playback.item&&this.playback.item.uri===this.trackUri;return["track-playback",{"track-playback--active":t,"track-playback--paused":t&&this.context&&this.context.paused}]}}),methods:{play:function(){this.contextUri?z.spotify.player.play(this.contextUri,{position:this.offset}):this.playback.item&&this.playback.item.uri===this.trackUri?z.spotify.player.play():z.spotify.player.play(null,{uri:this.trackUri},this.tracksUris)},pause:function(){z.spotify.player.pause()}}},Ze=Je,We=(a("1ce0"),Object(h["a"])(Ze,ze,He,!1,null,"586e8d86",null));We.options.__file="index.vue";var Xe=We.exports,ta={name:"tracks-list",components:{TrackAddition:Ke,TrackPlayback:Xe},props:{tracks:{type:Array,required:!0},showArtists:{type:Boolean,default:!1},contextUri:{type:String,required:!1}},data:function(){return{tracksIds:"",savedTracks:[]}},computed:Object(n["a"])({},Object(c["c"])("player",{playback:"getPlayback",context:"getPlaybackContext"}),{tracksUris:function(){return this.tracks?this.tracks.map(function(t){return t.uri}):[]}}),methods:{fetchTrackIds:function(){this.tracks&&(this.tracksIds=this.tracks.map(function(t){return t.id}))},checkSavedTracks:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e={offset:0,limit:50,total:this.tracks.length||0,items:[]};case 2:if(!(e.total>e.offset)){t.next=10;break}return t.next=5,z.spotify.library.checkUserSavedTracks(this.tracksIds.slice(e.offset,e.offset+e.limit).toString());case 5:s=t.sent,e.offset=e.offset+e.limit,(a=e.items).push.apply(a,Object(et["a"])(s.data)),t.next=2;break;case 10:this.savedTracks=e.items,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}},t,this,[[0,13]])}));return function(){return t.apply(this,arguments)}}(),isActiveTrack:function(t){var e=this.playback.item&&this.playback.item.id===t.id;return{"tracks-list__row--active":e,"tracks-list__row--paused":e&&this.context&&this.context.paused}},onTrackUpdate:function(){this.checkSavedTracks()}},watch:{tracks:function(){this.fetchTrackIds(),this.checkSavedTracks()}}},ea=ta,aa=(a("37a9"),Object(h["a"])(ea,Fe,Ve,!1,null,null,null));aa.options.__file="index.vue";var sa=aa.exports,ra={name:"search-result-view",components:{TracksList:sa,MediaObject:le,EntityHeader:se,MediaContainer:ve},data:function(){return{maxResults:12}},computed:Object(n["a"])({},Object(c["d"])("search",["query","result","isLoading","error","albums","tracks","artists","playlists"]),{isTracksExists:function(){return this.tracks&&this.tracks.total>0},isAlbumsExists:function(){return this.albums&&this.albums.total>0},isArtistsExists:function(){return this.artists&&this.artists.total>0},isPlaylistsExists:function(){return this.playlists&&this.playlists.total>0},getTracks:function(){var t=this;return this.tracks&&this.tracks.items?Object.keys(this.tracks.items).slice(0,5).map(function(e){return Object(n["a"])({},t.tracks.items[e])}):[]}}),methods:{goTo:function(t){jr.push({name:t,params:{query:this.query}})}}},ia=ra,na=Object(h["a"])(ia,Me,Ne,!1,null,null,null);na.options.__file="SearchResult.vue";var ca=na.exports,oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],on:{vScroll:function(e){t.loadMore(e,t.albums.next,t.getAlbums)}}},[a("media-container",t._l(t.albums.items,function(t){return a("media-object",{key:t.id,attrs:{id:t.id,uri:t.uri,coverImg:t.images,name:t.name,artists:t.artists,type:t.type}})}))],1)},la=[],ua={methods:{loadMore:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e,a,s){var r,i=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:r=i.length>3&&void 0!==i[3]?i[3]:70,a&&e.detail.scrollbarV.percent>r&&s();case 2:case"end":return t.stop()}},t,this)}));return function(e,a,s){return t.apply(this,arguments)}}()}},pa={name:"search-album-view",mixins:[ua],components:{MediaObject:le,MediaContainer:ve},computed:Object(n["a"])({},Object(c["d"])("search",["albums"])),methods:Object(n["a"])({},Object(c["b"])({getAlbums:"search/getAlbums"}))},ma=pa,da=Object(h["a"])(ma,oa,la,!1,null,null,null);da.options.__file="SearchAlbum.vue";var fa=da.exports,va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],on:{vScroll:function(e){t.loadMore(e,t.artists.next,t.getArtists)}}},[a("media-container",t._l(t.artists.items,function(t){return a("media-object",{key:t.id,attrs:{id:t.id,uri:t.uri,name:t.name,type:t.type,coverImg:t.images}})}))],1)},ha=[],ba={name:"search-artist-view",mixins:[ua],components:{MediaObject:le,MediaContainer:ve},computed:Object(n["a"])({},Object(c["d"])("search",["artists"])),methods:Object(n["a"])({},Object(c["b"])({getArtists:"search/getArtists"}))},ya=ba,_a=Object(h["a"])(ya,va,ha,!1,null,null,null);_a.options.__file="SearchArtist.vue";var ka=_a.exports,ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],on:{vScroll:function(e){t.loadMore(e,t.playlists.next,t.getPlaylists)}}},[a("media-container",t._l(t.playlists.items,function(t){return a("media-object",{key:t.id,attrs:{id:t.id,uri:t.uri,coverImg:t.images,name:t.name,type:t.type}})}))],1)},wa=[],xa={name:"search-playlist-view",mixins:[ua],components:{MediaObject:le,MediaContainer:ve},computed:Object(n["a"])({},Object(c["d"])("search",["playlists"])),methods:Object(n["a"])({},Object(c["b"])({getPlaylists:"search/getPlaylists"}))},Ca=xa,Ea=Object(h["a"])(Ca,ga,wa,!1,null,null,null);Ea.options.__file="SearchPlaylist.vue";var Ta=Ea.exports,Sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],on:{vScroll:function(e){t.loadMore(e,t.tracks.next,t.getTracks)}}},[a("tracks-list",{attrs:{tracks:t.tracks.items}})],1)},Aa=[],Oa={name:"search-playlist-view",mixins:[ua],components:{TracksList:sa},computed:Object(n["a"])({},Object(c["d"])("search",["tracks"])),methods:Object(n["a"])({},Object(c["b"])({getTracks:"search/getTracks"}))},ja=Oa,Ra=Object(h["a"])(ja,Sa,Aa,!1,null,null,null);Ra.options.__file="SearchTrack.vue";var Pa=Ra.exports,Ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"browse-view"},[a("ul",{staticClass:"browse-view__nav"},[a("router-link",{staticClass:"browse-view__nav-item",attrs:{exact:"",tag:"li",to:{name:"browse-genres"},"active-class":"browse-view__nav-item--active"}},[t._v("\n      Genres & Moods\n    ")]),a("router-link",{staticClass:"browse-view__nav-item",attrs:{exact:"",tag:"li",to:{name:"browse-new-releases"},"active-class":"browse-view__nav-item--active"}},[t._v("\n      New releases\n    ")])],1),a("div",{staticClass:"browse-view__content"},[a("router-view")],1)])},Ua=[],Da={name:"browse-view"},qa=Da,La=(a("2fa8"),Object(h["a"])(qa,Ia,Ua,!1,null,"954a1f26",null));La.options.__file="index.vue";var Ma=La.exports,Na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"genres-view"},[a("entity-header",{attrs:{title:"Genres & Moods",small:!0}}),a("div",{staticClass:"genres-view__inner"},t._l(t.categories,function(e,s){return a("div",{key:s,staticClass:"genres-view__category"},[a("router-link",{attrs:{to:{name:"genres",params:{id:e.id}}}},[a("img",{staticClass:"genres-view__category-img",attrs:{src:e.icons[0].url,alt:e.name}}),a("div",{staticClass:"genres-view__category-name"},[t._v(t._s(e.name))])])],1)}))],1)},Fa=[],Va={name:"genres",components:{EntityHeader:se},data:function(){return{categories:""}},methods:{getCategories:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.spotify.browse.getCategories();case 3:e=t.sent,this.categories=e.data.categories.items,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()},created:function(){this.getCategories()}},Ba=Va,Qa=(a("4e01"),Object(h["a"])(Ba,Na,Fa,!1,null,"7383535a",null));Qa.options.__file="Genres.vue";var $a=Qa.exports,Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"genres-view",on:{vScroll:t.loadMore}},[a("entity-header",{attrs:{title:t.title}}),a("media-container",t._l(t.playlists.items,function(t,e){return a("media-object",{key:e,attrs:{id:t.id,uri:t.uri,coverImg:t.images,name:t.name,type:t.type}})}))],1)},Ya=[],Ka={name:"genres",components:{EntityHeader:se,MediaObject:le,MediaContainer:ve},data:function(){return{categoryID:null,playlists:{limit:25,offset:0,total:1,items:[]},isMore:!1}},computed:{title:function(){return"".concat(this.categoryID.replace("_"," ")," playlists")}},methods:Object(n["a"])({},Object(c["b"])({notFoundPage:"app/notFoundPage"}),{getCategoryPlaylists:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a,s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.playlists.total>this.playlists.offset)){t.next=10;break}return t.next=4,z.spotify.browse.getCategoryPlaylists(e,this.playlists.offset,this.playlists.limit);case 4:s=t.sent,r=s.data.playlists,this.playlists.offset=r.offset+this.playlists.limit,this.playlists.total=r.total,(a=this.playlists.items).push.apply(a,Object(et["a"])(r.items)),this.isMore=!1;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),this.notFoundPage(!0);case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(e){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getCategoryPlaylists(this.categoryID));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}),created:function(){var t=this.$route.params.id;this.categoryID=t,this.getCategoryPlaylists(t)}},za=Ka,Ha=(a("d005"),Object(h["a"])(za,Ga,Ya,!1,null,null,null));Ha.options.__file="index.vue";var Ja=Ha.exports,Za=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"new-releases-view",on:{vScroll:t.loadMore}},[a("entity-header",{attrs:{title:"New albums & singles",small:!0}}),a("div",{staticClass:"new-releases-view__inner"},[a("media-container",t._l(t.albums.items,function(t,e){return a("media-object",{key:e,attrs:{id:t.id,uri:t.uri,coverImg:t.images,name:t.name,artists:t.artists,type:t.type}})}))],1)],1)},Wa=[],Xa={name:"new-releases",components:{EntityHeader:se,MediaObject:le,MediaContainer:ve},data:function(){return{albums:{limit:25,offset:0,total:1,items:[]},more:null}},methods:{getNewReleases:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.albums.total>this.albums.offset)){t.next=9;break}return t.next=4,z.spotify.browse.getNewReleases(this.albums.offset,this.albums.limit);case 4:a=t.sent,this.albums.offset=a.data.albums.offset+this.albums.limit,this.albums.total=a.data.albums.total,(e=this.albums.items).push.apply(e,Object(et["a"])(a.data.albums.items)),this.more=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.more){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.more=!0,this.getNewReleases());case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},created:function(){this.getNewReleases()}},ts=Xa,es=(a("9046"),Object(h["a"])(ts,Za,Wa,!1,null,"5bb2bfb7",null));es.options.__file="NewReleases.vue";var as=es.exports,ss=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"artist-view",on:{vScroll:t.loadMore}},[a("div",{staticClass:"artist-view__content"},[t.artist?a("entity-info",{attrs:{coverImg:t.artist.images,type:t.artist.type,name:t.artist.name,uri:t.artist.uri,followers:t.artist.followers.total}}):t._e(),a("entity-header",{attrs:{title:"Popular",small:!0}}),a("tracks-list",{attrs:{tracks:t.tracks}}),t.albums?a("entity-header",{attrs:{title:"Albums",small:!0}}):t._e(),a("media-container",t._l(t.albums.items,function(e,s){return t.albums?a("media-object",{key:s,attrs:{id:e.id,uri:e.uri,coverImg:e.images,name:e.name,artists:e.artists,type:e.type}}):t._e()}))],1)])},rs=[],is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.elClass},[a("div",{staticClass:"entity-info__cover"},[t.coverImg[0]?a("img",{staticClass:"entity-info__cover-img",attrs:{src:t.coverImg[0].url,alt:"cover"}}):t._e(),a("icon",{staticClass:"entity-info__cover-icon",attrs:{name:"music"}}),a("div",{staticClass:"entity-info__cover-hover",attrs:{title:"Edit image"},on:{click:t.onCoverClick}},[a("icon",{staticClass:"entity-info__cover-icon",attrs:{name:"pencil-alt"}})],1)],1),a("div",{staticClass:"entity-info__info"},[a("div",{staticClass:"entity-info__type"},[t._v(t._s(t.type))]),a("h2",{staticClass:"entity-info__name"},[t._v(t._s(t.name))]),t.description?a("p",{staticClass:"entity-info__desc",domProps:{innerHTML:t._s(t.$options.filters.convertURLs(t.description))}}):t._e(),t.artists?a("div",{staticClass:"entity-info__artists"},[t._v("\n      By\n      "),t._l(t.artists,function(e,s){return a("router-link",{key:s,staticClass:"entity-info__link",attrs:{to:{name:"artist",params:{id:e.id}}}},[t._v("\n        "+t._s(e.name)+"\n        "),s!==t.artists.length-1?[t._v(", ")]:t._e()],2)})],2):t._e(),t.author?a("div",{staticClass:"entity-info__author"},[t._v("Author: "+t._s(t.author))]):t._e(),"playlist"===t.type?a("entity-action",{attrs:{type:t.type,playlistID:t.playlistID,uri:t.uri,ownerID:t.ownerID}}):t._e()],1),t.followers?a("div",{staticClass:"entity-info__followers"},[a("div",[t._v("Followers")]),t._v("\n    "+t._s(t.followers)+"\n  ")]):t._e(),t.ownerID===t.user.id&&"playlist"===t.type?a("playlist-update-modal"):t._e()],1)},ns=[],cs=(a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"update-modal"},[a("v-modal",{attrs:{modalName:t.modalName,width:"500px"}},[a("template",{slot:"header"},[t._v("\n      Update Playlist Details\n    ")]),a("template",{slot:"body"},[a("form",{staticClass:"update-modal__form"},[a("div",{staticClass:"update-modal__form-left"},[a("v-input-file",{attrs:{"cover-url":t.coverUrl},on:{onFileChange:t.onFileChange}})],1),a("div",{staticClass:"update-modal__form-right"},[a("div",[a("label",{attrs:{for:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"name",name:"name",maxlength:"100"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",[a("label",{attrs:{for:"description"}},[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{id:"description",name:"description",maxlength:"300"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])])])]),a("template",{slot:"footer"},[a("v-button",{attrs:{onClick:t.hide,isBlack:!0}},[t._v("Cancel")]),a("v-button",{attrs:{onClick:t.update}},[t._v("Save")])],1)],2)],1)}),os=[],ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{class:t.elClass,on:{click:t.onClick}},[t._t("default")],2)},us=[],ps={name:"Button",props:{onClick:{required:!0},isBlack:{default:!1}},computed:{elClass:function(){return["btn",{"btn--black":this.isBlack}]}}},ms=ps,ds=(a("4515"),Object(h["a"])(ms,ls,us,!1,null,"7b4c0e00",null));ds.options.__file="index.vue";var fs=ds.exports,vs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"input-file",attrs:{for:"input-file__input"}},[a("div",{staticClass:"input-file__avatar",style:t.avatarStyles,attrs:{"data-text":t.hoverText}},[a("input",{staticClass:"input-file__input",attrs:{id:"input-file__input",type:"file"},on:{change:t.onFileChange}}),a("icon",{staticClass:"input-file__icon",attrs:{name:"camera"}})],1)])},hs=[],bs={name:"input-file",data:function(){return{avatarImg:"",avatarFile:""}},props:{hoverText:{type:String,required:!1,default:"Upload photo"},coverUrl:{type:String,required:!1}},computed:{avatarStyles:function(){return"background-image: url(".concat(this.avatarImg,");")}},methods:{onFileChange:function(t){var e=this,a=t.target.files||t.dataTransfer.files,s=new FileReader;a.length&&(this.avatarFile=a[0],s.onload=function(t){e.avatarImg=t.target.result},s.readAsDataURL(this.avatarFile),this.$emit("onFileChange",this.avatarFile))}},created:function(){this.coverUrl&&(this.avatarImg=this.coverUrl)}},ys=bs,_s=(a("3435"),Object(h["a"])(ys,vs,hs,!1,null,"92233ce8",null));_s.options.__file="index.vue";var ks=_s.exports,gs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal"},[a("modal",{attrs:{name:t.modalName,width:t.width}},[a("div",{staticClass:"modal__header"},[t._t("header")],2),a("div",{staticClass:"modal__body"},[t._t("body")],2),a("div",{staticClass:"modal__footer"},[t._t("footer")],2)])],1)},ws=[],xs={name:"v-modal",props:{modalName:{type:String,required:!0},width:{required:!1,default:"400px"}},computed:{}},Cs=xs,Es=(a("481e"),Object(h["a"])(Cs,gs,ws,!1,null,null,null));Es.options.__file="index.vue";var Ts=Es.exports,Ss={name:"playlist-modal",components:{VButton:fs,VInputFile:ks,VModal:Ts},data:function(){return{modalName:"playlist-update-modal",name:"",description:"",coverUrl:"",coverBase64:""}},computed:Object(n["a"])({},Object(c["c"])({user:"user/getProfile",playlist:"playlist/getPlaylist"})),methods:Object(n["a"])({},Object(c["b"])({addNotification:"notification/add",getUserPlaylists:"user/getCurrentUserPlaylists",clearUserPlaylists:"user/clearUserPlaylists",fetchPlaylist:"playlist/fetchPlaylist"}),{hide:function(){this.$modal.hide(this.modalName)},getPlaylistID:function(){var t=this.playlist.uri.split(":");return t[t.length-1]},onFileChange:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onload=function(){e.coverBase64=a.result}},validate:function(){var t=!0;return this.name?this.description?t:(this.addNotification({type:"error",message:"You must give your playlist a description.",duration:3e3}),!1):(this.addNotification({type:"error",message:"You must give your playlist a name.",duration:3e3}),!1)},updateCover:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.coverBase64){t.next=12;break}return t.prev=1,e=this.getPlaylistID(),t.next=5,z.spotify.playlists.updatePlaylistCover(this.user.id,e,this.coverBase64);case 5:a=t.sent,console.log(a),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(){return t.apply(this,arguments)}}(),update:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.validate()){t.next=15;break}return t.prev=1,e=this.getPlaylistID(),t.next=5,z.spotify.playlists.updatePlaylist(this.user.id,e,this.name,this.description);case 5:this.fetchPlaylist({userID:this.userID,playlistID:e}),this.clearUserPlaylists(),this.getUserPlaylists(),this.addNotification({type:"success",message:"Playlist details updated.",duration:2e3}),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),console.error(t.t0);case 14:this.hide();case 15:case"end":return t.stop()}},t,this,[[1,11]])}));return function(){return t.apply(this,arguments)}}(),init:function(){this.name=this.playlist.name,this.description=this.playlist.description,this.coverUrl="",this.playlist.images[0]&&(this.coverUrl=this.playlist.images[0].url)}}),watch:{playlist:function(){this.init()}},created:function(){this.init()}},As=Ss,Os=(a("43b9"),Object(h["a"])(As,cs,os,!1,null,"fbfe58de",null));Os.options.__file="index.vue";var js=Os.exports,Rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.elClass},[a("v-button",{staticClass:"entity-action__btn entity-action__btn--play",attrs:{onClick:t.onPlay}},[t._v("Play")]),a("v-button",{staticClass:"entity-action__btn entity-action__btn--pause",attrs:{onClick:t.onPause}},[t._v("Pause")]),"playlist"===t.type?[a("v-button",{staticClass:"entity-action__btn entity-action__btn--follow",attrs:{onClick:t.onFollow,isBlack:"true"}},[t._v("Follow")]),a("v-button",{staticClass:"entity-action__btn entity-action__btn--unfollow",attrs:{onClick:t.onUnfollow,isBlack:"true"}},[t._v("Unfollow")])]:t._e()],2)},Ps=[],Is={name:"entity-action",components:{vButton:fs},props:{uri:{type:String,required:!0},playlistID:{type:String,required:!0},ownerID:{type:String,required:!0},type:{type:String,required:!0}},data:function(){return{isFollowing:!1}},computed:Object(n["a"])({},Object(c["c"])({user:"user/getProfile",playbackContext:"player/getPlaybackContext"}),{elClass:function(){return["entity-action",{"entity-action--playing":!this.playbackContext.paused&&this.playbackContext.context&&this.playbackContext.context.uri===this.uri,"entity-action--following":this.isFollowing}]}}),methods:Object(n["a"])({},Object(c["b"])({getUserPlaylists:"user/getCurrentUserPlaylists",clearUserPlaylists:"user/clearUserPlaylists"}),{onPlay:function(){this.playbackContext.context.uri===this.uri?z.spotify.player.play():z.spotify.player.play(this.uri)},onPause:function(){z.spotify.player.pause()},onFollow:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.spotify.follow.followPlaylist(this.ownerID,this.playlistID);case 3:this.isFollowing=!this.isFollowing,this.clearUserPlaylists(),this.getUserPlaylists(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}(),onUnfollow:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.spotify.follow.unfollowPlaylist(this.ownerID,this.playlistID);case 3:this.isFollowing=!this.isFollowing,this.clearUserPlaylists(),this.getUserPlaylists(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}(),checkIfUserFollowPlaylist:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e,a,s){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.spotify.follow.checkIfUserFollowPlaylist(e,a,s);case 3:r=t.sent,this.isFollowing=r.data[0],t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e,a,s){return t.apply(this,arguments)}}(),init:function(){this.isFollowing=null,this.checkIfUserFollowPlaylist(this.ownerID,this.playlistID,this.user.id)}}),watch:{$route:function(){this.init()}},created:function(){this.init()}},Us=Is,Ds=(a("2f11"),Object(h["a"])(Us,Rs,Ps,!1,null,"6239c6d1",null));Ds.options.__file="EntityAction.vue";var qs=Ds.exports,Ls={name:"entity-info",components:{PlaylistUpdateModal:js,EntityAction:qs},props:{uri:{required:!0},playlistID:{type:String,required:!1},coverImg:{type:Array,required:!1},type:{type:String,required:!0},name:{type:String,required:!0},description:{type:String,required:!1},author:{type:String,required:!1},artists:{type:Array,required:!1},followers:{type:[Number,String],required:!1},ownerID:{type:String,required:!1}},data:function(){return{}},computed:Object(n["a"])({},Object(c["c"])({user:"user/getProfile"}),{elClass:function(){return["entity-info",{"entity-info--editable":this.ownerID===this.user.id&&"playlist"===this.type}]}}),methods:{onCoverClick:function(){this.$modal.show("playlist-update-modal")}}},Ms=Ls,Ns=(a("b88b"),Object(h["a"])(Ms,is,ns,!1,null,"8a5bbe9e",null));Ns.options.__file="index.vue";var Fs=Ns.exports,Vs={name:"artist-view",components:{EntityHeader:se,EntityInfo:Fs,MediaObject:le,MediaContainer:ve,TracksList:sa},data:function(){return{artistID:null,artist:null,tracks:null,albums:null,isMore:null}},methods:Object(n["a"])({},Object(c["b"])({notFoundPage:"app/notFoundPage"}),{initData:function(){this.artist=null,this.tracks=null,this.albums={limit:25,offset:0,total:1,items:[]}},getArtist:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.spotify.artists.getArtist(e);case 3:a=t.sent,this.artist=a.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.notFoundPage(!0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),getArtistAlbums:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.albums.total>this.albums.offset)){t.next=9;break}return t.next=4,z.spotify.artists.getArtistAlbums(e,"album,single",this.albums.offset,this.albums.limit);case 4:s=t.sent,this.albums.offset=s.data.offset+this.albums.limit,this.albums.total=s.data.total,(a=this.albums.items).push.apply(a,Object(et["a"])(s.data.items)),this.isMore=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(e){return t.apply(this,arguments)}}(),getArtistTopTracks:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.spotify.artists.getArtistTopTracks(e,"PL");case 3:a=t.sent,this.tracks=a.data.tracks,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getArtistAlbums(this.artistID));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),init:function(){this.artistID=this.$route.params.id,this.initData(),this.getArtist(this.artistID),this.getArtistAlbums(this.artistID),this.getArtistTopTracks(this.artistID)}}),watch:{$route:function(){this.init()}},created:function(){this.init()}},Bs=Vs,Qs=(a("3850"),Object(h["a"])(Bs,ss,rs,!1,null,"5d21a501",null));Qs.options.__file="index.vue";var $s=Qs.exports,Gs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"album-view"},[a("div",[t.album?a("entity-info",{attrs:{coverImg:t.album.images,type:t.album.type,name:t.album.name,description:t.album.description,artists:t.album.artists,uri:t.album.uri}}):t._e(),t.album&&t.tracks?a("tracks-list",{attrs:{tracks:t.tracks,showArtists:!0,contextUri:t.album.uri}}):t._e()],1)])},Ys=[],Ks={name:"album-view",components:{EntityInfo:Fs,TracksList:sa},data:function(){return{albumID:null,album:null,tracks:null}},methods:Object(n["a"])({},Object(c["b"])({notFoundPage:"app/notFoundPage"}),{getAlbum:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.spotify.albums.getAlbum(e);case 3:a=t.sent,this.album=a.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.notFoundPage(!0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),getAlbumTracks:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.spotify.albums.getAlbumTracks(e);case 3:a=t.sent,this.tracks=a.data.items,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.notFoundPage(!0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}),created:function(){this.albumID=this.$route.params.id,this.getAlbum(this.albumID),this.getAlbumTracks(this.albumID)}},zs=Ks,Hs=(a("d172"),Object(h["a"])(zs,Gs,Ys,!1,null,"27f8a647",null));Hs.options.__file="index.vue";var Js=Hs.exports,Zs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"playlist-view",on:{vScroll:t.loadMore}},[a("div",{staticClass:"playlist-view__content"},[t.playlist?a("entity-info",{attrs:{coverImg:t.playlist.images,type:t.playlist.type,name:t.playlist.name,description:t.playlist.description,author:t.playlist.owner.display_name,followers:t.playlist.followers.total,uri:t.playlist.uri,playlistID:t.playlistID,ownerID:t.playlist.owner.id}}):t._e(),a("tracks-table",{attrs:{tracks:t.tracks.items,contextUri:t.playlist.uri}})],1)])},Ws=[],Xs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tracks.length?a("div",{staticClass:"tracks-table"},[a("div",{staticClass:"tracks-table__row tracks-table__row--header"},[a("div",{staticClass:"tracks-table__cell tracks-table__cell--playback"}),a("div",{staticClass:"tracks-table__cell tracks-table__cell--addition"}),a("div",{staticClass:"tracks-table__cell tracks-table__cell--name"},[t._v("\n      Title\n    ")]),a("div",{staticClass:"tracks-table__cell tracks-table__cell--artist"},[t._v("\n      Artist\n    ")]),a("div",{staticClass:"tracks-table__cell tracks-table__cell--album"},[t._v("\n      Album\n    ")]),a("div",{staticClass:"tracks-table__cell tracks-table__cell--added-at"},[a("icon",{attrs:{name:"calendar-alt"}})],1),a("div",{staticClass:"tracks-table__cell tracks-table__cell--duration"},[a("icon",{attrs:{name:"clock"}})],1)]),t._l(t.tracks,function(e,s){return a("div",{key:s,staticClass:"tracks-table__row",class:t.isActiveTrack(e.track),attrs:{"data-id":e.track.id}},[a("div",{staticClass:"tracks-table__cell tracks-table__cell--playback"},[a("track-playback",{attrs:{trackUri:e.track.uri,tracksUris:t.tracksUris,contextUri:t.contextUri,offset:s}})],1),a("div",{staticClass:"tracks-table__cell tracks-table__cell--addition"},[a("track-addition",{attrs:{trackID:e.track.id,isSaved:t.savedTracks[s]},on:{updateTrackstatus:t.onTrackUpdate,savedTrackRemove:t.onSavedTrackRemove}})],1),a("div",{staticClass:"tracks-table__cell"},[t._v("\n      "+t._s(e.track.name)+"\n      "),e.track.explicit?a("span",{staticClass:"tracks-table__explicit-label"},[t._v("\n          Explicit\n        ")]):t._e()]),a("div",{staticClass:"tracks-table__cell"},[a("div",t._l(e.track.artists,function(s,r){return a("router-link",{key:r,staticClass:"tracks-table__link",attrs:{to:{name:"artist",params:{id:s.id}}}},[t._v("\n          "+t._s(s.name)+"\n          "),r!==e.track.artists.length-1?[t._v(", ")]:t._e()],2)}))]),a("div",{staticClass:"tracks-table__cell"},[a("router-link",{staticClass:"tracks-table__link",attrs:{to:{name:"album",params:{id:e.track.album.id}}}},[t._v("\n        "+t._s(e.track.album.name)+"\n      ")])],1),a("div",{staticClass:"tracks-table__cell tracks-table__cell--added-at"},[t._v("\n      "+t._s(t._f("moment")(e.added_at,"MM-DD-YYYY"))+"\n    ")]),a("div",{staticClass:"tracks-table__cell tracks-table__cell--duration"},[t._v("\n      "+t._s(t._f("msToMinutes")(e.track.duration_ms))+"\n    ")])])})],2):t._e()},tr=[],er={name:"tracks-table",components:{TrackAddition:Ke,TrackPlayback:Xe},props:{tracks:{required:!0,default:[]},type:{type:String,required:!1},contextUri:{required:!1}},data:function(){return{tracksUris:"",tracksIds:"",savedTracks:[]}},computed:Object(n["a"])({},Object(c["c"])({user:"user/getProfile",playback:"player/getPlayback",context:"player/getPlaybackContext"})),methods:{sortBy:function(t,e){},fetchTrackUris:function(){this.tracksUris=this.tracks.map(function(t){return t.track.uri})},fetchTrackIds:function(){this.tracksIds=this.tracks.map(function(t){return t.track.id})},checkSavedTracks:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var e,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,e={offset:0,limit:50,total:this.tracks.length||0,items:[]};case 2:if(!(e.total>e.offset)){t.next=10;break}return t.next=5,z.spotify.library.checkUserSavedTracks(this.tracksIds.slice(e.offset,e.offset+e.limit).toString());case 5:s=t.sent,e.offset=e.offset+e.limit,(a=e.items).push.apply(a,Object(et["a"])(s.data)),t.next=2;break;case 10:this.savedTracks=e.items,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}},t,this,[[0,13]])}));return function(){return t.apply(this,arguments)}}(),isActiveTrack:function(t){var e=this.playback.item&&this.playback.item.id===t.id;return{"tracks-table__row--active":e,"tracks-table__row--paused":e&&this.context&&this.context.paused}},onTrackUpdate:function(){this.checkSavedTracks()},onSavedTrackRemove:function(t){"library"===this.type&&document.querySelectorAll("[data-id='".concat(t,"']"))[0].remove()}},watch:{tracks:function(){this.fetchTrackUris(),this.fetchTrackIds(),this.checkSavedTracks()}}},ar=er,sr=(a("79bf"),Object(h["a"])(ar,Xs,tr,!1,null,null,null));sr.options.__file="index.vue";var rr=sr.exports,ir={name:"playlist-view",components:{EntityInfo:Fs,TracksTable:rr},data:function(){return{userID:null,playlistID:null,tracks:null,more:null}},computed:Object(n["a"])({},Object(c["c"])("playlist",{playlist:"getPlaylist"})),methods:Object(n["a"])({},Object(c["b"])({notFoundPage:"app/notFoundPage",fetchPlaylist:"playlist/fetchPlaylist"}),{initData:function(){this.tracks={limit:50,offset:0,total:1,items:[]}},getPlaylistTracks:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e,a){var s,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.tracks.total>this.tracks.offset)){t.next=9;break}return t.next=4,z.spotify.playlists.getPlalistsTracks(e,a,this.tracks.offset,this.tracks.limit);case 4:r=t.sent,this.tracks.offset=r.data.offset+this.tracks.limit,this.tracks.total=r.data.total,(s=this.tracks.items).push.apply(s,Object(et["a"])(r.data.items)),this.more=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),this.notFoundPage(!0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(e,a){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.more){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.more=!0,this.getPlaylistTracks(this.userID,this.playlistID));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),init:function(){var t=this.$route.params,e=t.user_id,a=t.playlist_id;this.userID=e,this.playlistID=a,this.initData(),this.getPlaylistTracks(this.userID,this.playlistID),this.fetchPlaylist({userID:this.userID,playlistID:this.playlistID})}}),watch:{$route:function(){this.init()}},created:function(){this.init()}},nr=ir,cr=(a("5799"),Object(h["a"])(nr,Zs,Ws,!1,null,"631bece0",null));cr.options.__file="index.vue";var or=cr.exports,lr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"tracks-view",on:{vScroll:t.loadMore}},[a("div",{staticClass:"tracks-view__content"},[a("entity-header",{attrs:{title:"Songs"}}),a("tracks-table",{attrs:{tracks:t.tracks.items,type:"library"}})],1)])},ur=[],pr={name:"Tracks",components:{EntityHeader:se,TracksTable:rr},data:function(){return{tracks:{limit:25,offset:0,total:1,items:[]},isMore:null}},computed:{},methods:{getTracks:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.tracks.total>this.tracks.offset)){t.next=9;break}return t.next=4,z.spotify.library.getTracks(this.tracks.offset,this.tracks.limit);case 4:a=t.sent,this.tracks.offset=a.data.offset+this.tracks.limit,this.tracks.total=a.data.total,(e=this.tracks.items).push.apply(e,Object(et["a"])(a.data.items)),this.isMore=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getTracks());case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},created:function(){this.getTracks()}},mr=pr,dr=(a("ed9c"),Object(h["a"])(mr,lr,ur,!1,null,"340513dd",null));dr.options.__file="Tracks.vue";var fr=dr.exports,vr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"albums-view",on:{vScroll:t.loadMore}},[a("entity-header",{attrs:{title:"Albums"}}),a("div",{staticClass:"albums-view__content"},[a("media-container",t._l(t.albums.items,function(t,e){return a("media-object",{key:e,attrs:{id:t.album.id,uri:t.album.uri,coverImg:t.album.images,name:t.album.name,artists:t.album.artists,type:t.album.type}})}))],1)],1)},hr=[],br={name:"Albums",components:{MediaObject:le,EntityHeader:se,MediaContainer:ve},data:function(){return{albums:{limit:25,offset:0,total:1,items:[]},isMore:null}},methods:{getAlbums:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.albums.total>this.albums.offset)){t.next=9;break}return t.next=4,z.spotify.library.getAlbums(this.albums.offset,this.albums.limit);case 4:a=t.sent,this.albums.offset=a.data.offset+this.albums.limit,this.albums.total=a.data.total,(e=this.albums.items).push.apply(e,Object(et["a"])(a.data.items)),this.isMore=!1;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log(t.t0);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getAlbums());case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},created:function(){this.getAlbums()}},yr=br,_r=(a("1797"),Object(h["a"])(yr,vr,hr,!1,null,"1376dd50",null));_r.options.__file="Albums.vue";var kr=_r.exports,gr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"artists-view",on:{vScroll:t.loadMore}},[a("entity-header",{attrs:{title:"Artists"}}),a("div",{staticClass:"artists-view__content"},[a("media-container",[t._l(t.artists.items,function(t){return a("media-object",{key:t.id,attrs:{id:t.id,uri:t.uri,name:t.name,type:t.type,coverImg:t.images}})})],2)],1)],1)},wr=[];a("3b2b");function xr(t,e,a){var s;return function(){var r=this,i=arguments,n=function(){s=null,a||t.apply(r,i)},c=a&&!s;clearTimeout(s),s=setTimeout(n,e),c&&t.apply(r,i)}}function Cr(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),s=a.exec(e);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}var Er={name:"ArtistsView",components:{MediaObject:le,EntityHeader:se,MediaContainer:ve},data:function(){return{artists:{limit:1,offset:0,total:1,after:null,items:[]},isMore:null}},methods:{getArtist:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.artists.total>this.artists.offset)){t.next=10;break}return t.next=4,z.spotify.follow.getFollowedArtists(this.artists.limit,this.artists.after);case 4:a=t.sent,this.artists.after=Cr("after",a.data.artists.next),this.artists.total=a.data.artists.total,(e=this.artists.items).push.apply(e,Object(et["a"])(a.data.artists.items)),this.artists.offset=this.artists.items.length,this.isMore=!1;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.error(t.t0);case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(){return t.apply(this,arguments)}}(),loadMore:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMore){t.next=2;break}return t.abrupt("return",!1);case 2:e.detail.scrollbarV.percent>70&&(this.isMore=!0,this.getArtist());case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},created:function(){this.getArtist()}},Tr=Er,Sr=(a("99da"),Object(h["a"])(Tr,gr,wr,!1,null,"7376d075",null));Sr.options.__file="Artists.vue";var Ar=Sr.exports;s["a"].use(g["a"]);var Or=new g["a"]({routes:[{path:"/login",name:"Login",component:Ht},{path:"/",name:"Home",redirect:{name:"browse"}},{path:"/search",name:"search",component:Le,children:[{path:"result/:query",name:"search-result",component:ca},{path:"album/:query",name:"search-album",component:fa},{path:"artist/:query",name:"search-artist",component:ka},{path:"playlist/:query",name:"search-playlist",component:Ta},{path:"track/:query",name:"search-track",component:Pa}]},{path:"/user/:id",name:"user",component:_e},{path:"/artist/:id",name:"artist",component:$s},{path:"/album/:id",name:"album",component:Js},{path:"/genres/:id",name:"genres",component:Ja},{path:"/browse",name:"browse",component:Ma,redirect:{name:"browse-genres"},children:[{name:"browse-genres",path:"genres",component:$a},{name:"browse-new-releases",path:"newreleases",component:as}]},{path:"/collection/tracks",name:"tracks-collection",component:fr},{path:"/collection/albums",name:"albums-collection",component:kr},{path:"/collection/artists",name:"artists-collection",component:Ar},{path:"/user/:user_id/playlist/:playlist_id",name:"playlist",component:or},{path:"*",beforeEnter:function(t,e,a){Qt.dispatch("app/notFoundPage",!0),a()}}]});Or.beforeEach(function(t,e,a){Qt.getters["app/notFound"]&&Qt.dispatch("app/notFoundPage",!1),Qt.getters["auth/getAccessToken"]||"Login"===t.name||(Qt.dispatch("auth/login"),a(!1)),a()});var jr=Or,Rr={name:"navbar-search",methods:Object(n["a"])({},Object(c["b"])({search:"search/search"}),{onFocus:function(t){var e=this.$route,a=e.name,s=e.params.query,r=t.target.value;r?jr.push({name:"search-result",params:{query:r}}):"search"===a||s||jr.push("/search")},onKeyUp:function(t){var e=t.target.value;""!==e&&(this.$router.replace({name:"search-result",params:{query:e}}),this.search(e))}})},Pr=Rr,Ir=(a("37e0"),Object(h["a"])(Pr,_,k,!1,null,"3124e63e",null));Ir.options.__file="NavbarSearch.vue";var Ur=Ir.exports,Dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user?a("div",{staticClass:"navbar-nav"},[a("div",{staticClass:"navbar-nav__item"},[a("router-link",{staticClass:"navbar-nav__link",attrs:{to:{name:"user",params:{id:t.user.id}}}},[t._v("\n      "+t._s(t.user.display_name)+"\n    ")]),a("button",{staticClass:"navbar-nav__icon",on:{click:t.onClick}},[a("icon",{attrs:{name:"chevron-down"}})],1)],1),a("transition",{attrs:{name:"fade"}},[a("ul",{directives:[{name:"show",rawName:"v-show",value:t.isVisible,expression:"isVisible"}],staticClass:"navbar-nav__dropdown"},[a("li",{staticClass:"navbar-nav__list-item",on:{click:t.logout}},[t._v("Logout")])])])],1):t._e()},qr=[],Lr={name:"navbar-nav",data:function(){return{isVisible:!1}},computed:Object(n["a"])({},Object(c["c"])({user:"user/getProfile"})),methods:Object(n["a"])({},Object(c["b"])("auth",["logout"]),{clickOutEvent:function(t){var e=this.$el.children[0];t.target===e||e.contains(t.target)||this.close()},onClick:function(){var t=this;this.isVisible=!this.isVisible,this.isVisible?setTimeout(function(){return document.addEventListener("click",t.clickOutEvent)},100):this.close()},close:function(){this.isVisible=!1,document.removeEventListener("click",this.clickOutEvent)}})},Mr=Lr,Nr=(a("77f7"),Object(h["a"])(Mr,Dr,qr,!1,null,"faa028f0",null));Nr.options.__file="NavbarNav.vue";var Fr=Nr.exports,Vr={name:"navbar",components:{NavbarHistory:y,NavbarSearch:Ur,NavbarNav:Fr}},Br=Vr,Qr=(a("e058"),Object(h["a"])(Br,u,p,!1,null,"5d4dac93",null));Qr.options.__file="index.vue";var $r=Qr.exports,Gr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar"},[a("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"sidebar__inner",on:{scrollReachBottom:t.loadMore}},[a("sidebar-nav",{attrs:{links:t.browse}}),a("sidebar-nav",{attrs:{title:"Library",links:t.library}}),a("sidebar-nav",{attrs:{title:"Playlists",links:t.playlists.items}})],1),a("button",{staticClass:"sidebar__btn",on:{click:function(e){t.$modal.show("playlist-create-modal")}}},[a("icon",{staticClass:"sidebar__btn-icon",attrs:{name:"plus"}}),a("span",[t._v("New playlist")])],1),a("playlist-create-modal")],1)},Yr=[],Kr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sidebar-nav"},[t.title?a("h2",{staticClass:"sidebar-nav__title"},[t._v("\n    "+t._s(t.title)+"\n  ")]):t._e(),a("ul",t._l(t.links,function(e,s){return a("router-link",{key:s,staticClass:"sidebar-nav__item",attrs:{tag:"li","active-class":"sidebar-nav__item--active",to:t.createRoute(e)}},[t._v("\n      "+t._s(e.name)+"\n      "),t.playbackContext.context&&t.playbackContext.context.uri===e.uri?a("button",{staticClass:"sidebar-nav__playing-icon icon-sound-on"}):t._e()])}))])},zr=[],Hr=(a("f751"),{name:"sidebar-nav",props:{title:{type:String,required:!1},links:{type:Array,required:!0,default:function(){return[]}}},computed:Object(n["a"])({},Object(c["c"])("player",{playbackContext:"getPlaybackContext"})),methods:{createRoute:function(t){var e={name:t.type};switch(t.type){case"playlist":Object.assign(e,{params:{user_id:t.owner.id,playlist_id:t.id}});break}return e}}}),Jr=Hr,Zr=(a("ca91"),Object(h["a"])(Jr,Kr,zr,!1,null,"f0407472",null));Zr.options.__file="SidebarNav.vue";var Wr=Zr.exports,Xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playlist-create-modal"},[a("v-modal",{attrs:{modalName:t.modalName}},[a("template",{slot:"header"},[t._v("\n      Create Playlist\n    ")]),a("template",{slot:"body"},[a("form",[a("div",[a("label",{attrs:{for:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"name",name:"name",maxlength:"100"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",[a("label",{attrs:{for:"description"}},[t._v("Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{id:"description",name:"description",maxlength:"300"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])])]),a("template",{slot:"footer"},[a("v-button",{attrs:{onClick:t.hide,isBlack:!0}},[t._v("Cancel")]),a("v-button",{attrs:{onClick:t.create}},[t._v("Create")])],1)],2)],1)},ti=[],ei={name:"playlist-modal",components:{VButton:fs,VModal:Ts},data:function(){return{modalName:"playlist-create-modal",name:"",description:""}},computed:Object(n["a"])({},Object(c["c"])({user:"user/getProfile"})),methods:Object(n["a"])({},Object(c["b"])({addNotification:"notification/add",getUserPlaylists:"user/getCurrentUserPlaylists",clearUserPlaylists:"user/clearUserPlaylists"}),{hide:function(){this.$modal.hide(this.modalName)},clearForm:function(){this.name="",this.description=""},validate:function(){var t=!0;return this.name?t:(this.addNotification({type:"error",message:"You must give your playlist a name.",duration:3e3}),!1)},create:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.validate()){t.next=15;break}return t.prev=1,t.next=4,z.spotify.playlists.createPlaylist(this.user.id,this.name,this.description);case 4:e=t.sent,this.clearUserPlaylists(),this.getUserPlaylists(),this.$router.push({name:"playlist",params:{user_id:this.user.id,playlist_id:e.data.id}}),this.hide(),this.clearForm(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),console.log(t.t0);case 15:case"end":return t.stop()}},t,this,[[1,12]])}));return function(){return t.apply(this,arguments)}}()})},ai=ei,si=(a("58ad"),Object(h["a"])(ai,Xr,ti,!1,null,null,null));si.options.__file="index.vue";var ri=si.exports,ii={name:"sidebar",components:{PlaylistCreateModal:ri,SidebarNav:Wr},computed:Object(n["a"])({},Object(c["c"])("user",{playlists:"getPlaylists"}),{browse:function(){return[{type:"browse",name:"Browse"}]},library:function(){return[{type:"tracks-collection",name:"Songs"},{type:"albums-collection",name:"Albums"},{type:"artists-collection",name:"Artists"}]}}),methods:Object(n["a"])({},Object(c["b"])("user",{getUserPlaylists:"getCurrentUserPlaylists"}),{loadMore:function(){this.getUserPlaylists(25)}}),created:function(){this.getUserPlaylists()}},ni=ii,ci=(a("2f68"),Object(h["a"])(ni,Gr,Yr,!1,null,"62cd311b",null));ci.options.__file="index.vue";var oi=ci.exports,li=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player"},[t.playback?a("div",{staticClass:"player__inner"},[a("current-track",{staticClass:"player__left"}),a("div",{staticClass:"player__center"},[a("player-controls"),a("player-playback")],1),a("div",{staticClass:"player__right"},[a("device-picker"),a("volume-bar")],1)],1):t._e()])},ui=[],pi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"volume-bar"},[a("button",{class:t.classesButton,on:{click:t.onButtonClick}}),a("vue-slider",{staticClass:"volume-bar__slider",attrs:{tooltip:!1,"dot-size":15,"process-style":{background:"#1db954"},"bg-style":{background:"#737575",width:"80px"}},on:{"drag-start":t.onDragStart,callback:t.onSliderChange,"drag-end":t.onDragEnd},model:{value:t.volume,callback:function(e){t.volume=e},expression:"volume"}})],1)},mi=[],di={name:"volume-bar",data:function(){return{volume:0,tmpVolume:0,dragStartVolume:0}},computed:Object(n["a"])({},Object(c["c"])("player",{playback:"getPlayback"}),{classesButton:function(){return["volume-bar__button",{"icon-sound-on":this.volume,"icon-sound-off":!this.volume}]}}),methods:{setVolume:function(t){try{z.spotify.player.volume(t)}catch(e){console.log(e)}},onButtonClick:function(){this.volume>0?(this.tmpVolume=this.volume,this.volume=0):this.volume=this.tmpVolume,this.setVolume(this.volume)},onDragStart:function(t){var e=t.currentValue;this.dragStartVolume=e},onDragEnd:function(t){var e=t.currentValue;this.setVolume(e)},onSliderChange:function(t){var e=Math.abs(this.dragStartVolume-t);e>=10&&(this.dragStartVolume=t,this.setVolume(t))}},watch:{playback:function(t){this.volume=t.device.volume_percent}},mounted:function(){this.volume=this.playback.device.volume_percent}},fi=di,vi=(a("c0f8"),Object(h["a"])(fi,pi,mi,!1,null,null,null));vi.options.__file="VolumeBar.vue";var hi=vi.exports,bi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.playback?a("div",{staticClass:"current-track"},[a("div",{staticClass:"current-track__cover"},[a("router-link",{attrs:{to:t.createUrlForCover(t.playback.context)}},[a("img",{staticClass:"current-track__img",attrs:{src:t.playback.item.album.images[2].url}})])],1),a("div",{staticClass:"current-track__info"},[a("router-link",{staticClass:"current-track__name",attrs:{to:{name:"album",params:{id:t.playback.item.album.id}}}},[t._v("\n      "+t._s(t.playback.item.name)+"\n    ")]),a("track-addition",{attrs:{trackID:t.currentTrackID,isSaved:t.isSavedTrack},on:{updateTrackstatus:t.onTrackUpdate}}),a("div",{staticClass:"current-track__artists"},t._l(t.playback.item.artists,function(e,s){return a("router-link",{key:s,staticClass:"current-track__link",attrs:{to:{name:"artist",params:{id:e.id}}}},[t._v("\n        "+t._s(e.name)+"\n        "),s!==t.playback.item.artists.length-1?[t._v(", ")]:t._e()],2)}))],1)]):t._e()},yi=[],_i={name:"current-track",components:{TrackAddition:Ke},computed:Object(n["a"])({},Object(c["c"])("player",{playback:"getPlayback"})),data:function(){return{currentTrackID:"",isSavedTrack:!1}},methods:{checkSavedTrack:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.spotify.library.checkUserSavedTracks(e);case 3:a=t.sent,this.isSavedTrack=a.data[0],t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),createUrlForCover:function(t){if(t){var e=t.uri.split(":"),a={name:t.type};switch(t.type){case"playlist":Object.assign(a,{params:{user_id:e[2],playlist_id:e[e.length-1]}});break;case"album":case"artist":Object.assign(a,{params:{id:e[e.length-1]}});break}return a}return{}},onTrackUpdate:function(t){this.checkSavedTrack(t)}},watch:{playback:function(){this.currentTrackID!==this.playback.item.id&&(this.currentTrackID=this.playback.item.id),this.checkSavedTrack(this.currentTrackID)}},created:function(){this.currentTrackID=this.playback.item.id,this.checkSavedTrack(this.currentTrackID)}},ki=_i,gi=(a("b809"),Object(h["a"])(ki,bi,yi,!1,null,null,null));gi.options.__file="CurrentTrack.vue";var wi=gi.exports,xi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.playback?a("div",{staticClass:"player-controls"},[a("button",{class:t.classesShuffle,attrs:{title:"Shuffle"},on:{click:t.shuffle}}),a("button",{staticClass:"player-controls__button icon-previous",attrs:{title:"Previous"},on:{click:t.prev}}),t.context.paused?[a("button",{staticClass:"player-controls__button player-controls__button--play icon-play-circle",on:{click:t.play}})]:[a("button",{staticClass:"player-controls__button player-controls__button--pause icon-pause-circle",on:{click:t.pause}})],a("button",{staticClass:"player-controls__button icon-next",attrs:{title:"Next"},on:{click:t.next}}),a("button",{class:t.classesRepeat,attrs:{title:"Repeat"},on:{click:t.repeat}})],2):t._e()},Ci=[],Ei=(a("14b9"),{name:"player-controls",computed:Object(n["a"])({},Object(c["c"])("player",{playback:"getPlayback",context:"getPlaybackContext"}),{classesShuffle:function(){return["player-controls__button","icon-shuffle",{"player-controls__button--active":this.context.shuffle}]},classesRepeat:function(){return["player-controls__button",{"icon-repeat":2!==this.context.repeat_mode,"icon-repeat-one":2===this.context.repeat_mode,"player-controls__button--active":this.context.repeat_mode>0}]}}),methods:{next:function(){z.spotify.player.nextTrack()},prev:function(){z.spotify.player.previousTrack()},pause:function(){z.spotify.player.pause()},play:function(){z.spotify.player.play()},shuffle:function(){z.spotify.player.shuffle(this.context.shuffle)},repeat:function(){var t=["off","context","track"],e=this.context.repeat_mode,a=2===e?0:e+1;z.spotify.player.repeat(t[a])}}}),Ti=Ei,Si=(a("bdce"),Object(h["a"])(Ti,xi,Ci,!1,null,"121fd5bf",null));Si.options.__file="PlayerControls.vue";var Ai=Si.exports,Oi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.context?a("div",{staticClass:"player-playback"},[a("div",{staticClass:"player-playback__time"},[t._v(t._s(t._f("msToMinutes")(t.progress)))]),a("div",{staticClass:"player-playback__progress-bar"},[a("vue-slider",{attrs:{max:t.songDuration,tooltip:!1,"dot-size":15,"process-style":{background:"#1db954"},"bg-style":{background:"#737575"}},on:{"drag-start":t.onDragStart,callback:t.onProgressChange,"drag-end":t.onDragEnd},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}})],1),a("div",{staticClass:" player-playback__time"},[t._v(t._s(t._f("msToMinutes")(t.songDuration)))])]):t._e()},ji=[],Ri={name:"player-player-playback",data:function(){return{progress:0,progressInterval:null,isDragStart:!1,songDuration:0}},computed:Object(n["a"])({},Object(c["c"])("player",{playback:"getPlayback",context:"getPlaybackContext",isPlaying:"isPlaying"})),methods:{updateProgress:function(){var t=this;clearInterval(this.progressInterval),this.progress=this.context.position,this.context.paused||(this.progressInterval=setInterval(function(){t.playback&&t.progress+1e3<=t.songDuration&&(t.progress=t.progress+1e3)},1e3))},onDragStart:function(t){t.currentValue;this.isDragStart=!0},onDragEnd:function(t){var e=t.currentValue;this.isDragStart=!1,z.spotify.player.seekToPosition(e)},onProgressChange:function(t){this.isDragStart||(this.isDragStart=!1,z.spotify.player.seekToPosition(t))}},watch:{playback:function(){this.songDuration=this.playback.item.duration_ms},context:function(){this.progress=this.context.position},isPlaying:function(){this.updateProgress()}},created:function(){this.updateProgress(),this.songDuration=this.playback.item.duration_ms}},Pi=Ri,Ii=(a("7160"),Object(h["a"])(Pi,Oi,ji,!1,null,null,null));Ii.options.__file="PlayerPlayback.vue";var Ui=Ii.exports,Di=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.elClass},[s("button",{staticClass:"device-picker__button",on:{click:t.onClick}},[s("icon",{staticClass:"device-picker__button-d",attrs:{name:"desktop"}}),s("icon",{staticClass:"device-picker__button-m",attrs:{name:"mobile-alt"}})],1),t.isVisible?s("div",{staticClass:"device-picker__container"},[s("h3",{staticClass:"device-picker__title"},[t._v("Connect to a device")]),s("div",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"device-picker__content"},[s("img",{staticClass:"device-picker__header",attrs:{src:a("c121"),alt:"connect-header"}}),s("ul",{staticClass:"device-picker__list"},t._l(t.devices,function(e,a){return s("li",{key:a,staticClass:"device-picker__list-item",class:{"device-picker__list-item--active":e.is_active}},[s("button",{staticClass:"device-picker__list-item",on:{click:function(a){t.onDeviceConnect(e.id)}}},["Smartphone"===e.type?s("icon",{staticClass:"device-picker__device-icon",attrs:{name:"mobile-alt"}}):t._e(),"Computer"===e.type?s("icon",{staticClass:"device-picker__device-icon",attrs:{name:"laptop"}}):t._e(),s("div",{staticClass:"device-picker__device-info"},[s("span",{staticClass:"device-picker__device-title"},[e.is_active?t._e():[t._v(t._s(e.name))],e.is_active?[t._v("Listening On")]:t._e()],2),s("span",{staticClass:"device-picker__device-subtitle icon-sound-on"},[e.is_active?[t._v(t._s(e.name))]:[t._v(" Spotify Connect")]],2)])],1)])}))])]):t._e()])},qi=[],Li={name:"device-picker",data:function(){return{devices:null,isVisible:!1}},computed:{elClass:function(){return["device-picker",{"device-picker--opened":this.isVisible}]}},methods:{getUserDevices:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.spotify.player.getUserDevices();case 3:e=t.sent,this.devices=e.data.devices,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),clickOutEvent:function(t){var e=this.$el.children[1];t.target===e||e.contains(t.target)||this.close()},onClick:function(){var t=this;this.isVisible=!this.isVisible,this.isVisible&&setTimeout(function(){return document.addEventListener("click",t.clickOutEvent)},100)},close:function(){this.isVisible=!1,document.removeEventListener("click",this.clickOutEvent)},onDeviceConnect:function(){var t=Object(O["a"])(regeneratorRuntime.mark(function t(e){var a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.spotify.player.transferUsersPlayback([e],!0);case 3:this.close(),setTimeout(function(){a.getUserDevices()},500),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},created:function(){this.getUserDevices()}},Mi=Li,Ni=(a("71ca"),Object(h["a"])(Mi,Di,qi,!1,null,null,null));Ni.options.__file="DevicePicker.vue";var Fi=Ni.exports,Vi={name:"player",components:{VolumeBar:hi,CurrentTrack:wi,PlayerControls:Ai,PlayerPlayback:Ui,DevicePicker:Fi},computed:Object(n["a"])({},Object(c["c"])("player",{playback:"getPlayback"}))},Bi=Vi,Qi=(a("09ba"),Object(h["a"])(Bi,li,ui,!1,null,"3ddaea0b",null));Qi.options.__file="index.vue";var $i=Qi.exports,Gi={name:"AppLayout",components:{Navbar:$r,Sidebar:oi,Player:$i}},Yi=Gi,Ki=(a("2a7a"),Object(h["a"])(Yi,o,l,!1,null,"ee562dbe",null));Ki.options.__file="AppLayout.vue";var zi=Ki.exports,Hi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"not-found-view"},[a("div",{staticClass:"not-found-view__content"},[t._m(0),a("v-button",{attrs:{onClick:t.onBackButton}},[t._v("Return to the app")])],1)])},Ji=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("Sorry, it looks like we couldn't find what you're looking for. "),a("br"),t._v("Click the button below to go back.")])}],Zi={name:"NotFound",components:{vButton:fs},methods:{onBackButton:function(){this.$router.push("/")}}},Wi=Zi,Xi=(a("44b8"),Object(h["a"])(Wi,Hi,Ji,!1,null,"621042f0",null));Xi.options.__file="NotFound.vue";var tn=Xi.exports,en=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.notifications,function(e,s){return a("notify",{key:"notification-"+s,attrs:{message:e.message,type:e.type,duration:e.duration},on:{close:function(a){t.removeNotification(e)}}})}))},an=[],sn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.classes},[a("span",{domProps:{innerHTML:t._s(t.message)}}),a("button",{staticClass:"notify__close-btn",attrs:{type:"button","aria-label":"Close alert"},on:{click:function(e){t.close()}}},[a("icon",{attrs:{name:"times-circle"}})],1)])},rn=[],nn={name:"notify",props:{type:{type:String,default:"info"},message:{type:String,required:!0},duration:{type:Number,default:4e3}},computed:{classes:function(){return["notify",this.type?"notify--".concat(this.type):""]}},methods:{close:function(){this.$emit("close")}}},cn=nn,on=(a("9f16"),Object(h["a"])(cn,sn,rn,!1,null,"6b5aa7ec",null));on.options.__file="Notify.vue";var ln=on.exports,un={name:"notification",components:{Notify:ln},computed:Object(n["a"])({},Object(c["c"])({notifications:"notification/getNotifications"})),methods:Object(n["a"])({},Object(c["b"])({removeNotification:"notification/remove"}))},pn=un,mn=Object(h["a"])(pn,en,an,!1,null,null,null);mn.options.__file="index.vue";var dn=mn.exports,fn={name:"app",components:{AppLayout:zi,NotFoundView:tn,Notification:dn},computed:Object(n["a"])({},Object(c["c"])({notFound:"app/notFound",notifications:"notification/getNotifications"})),methods:Object(n["a"])({},Object(c["b"])({init:"app/init",removeNotification:"notification/removeNotification"})),created:function(){this.init()}},vn=fn,hn=(a("cf25"),Object(h["a"])(vn,r,i,!1,null,null,null));hn.options.__file="App.vue";var bn=hn.exports,yn=a("0874"),_n=a("1881"),kn=a.n(_n),gn=a("2ead"),wn=a.n(gn),xn=a("283e"),Cn=a.n(xn),En=a("8809");s["a"].directive("scroll",{bind:function(t,e,a){t.classList.add("optiscroll");new Optiscroll(t,{});t.addEventListener("scrollreachbottom",function(t){a.componentInstance?a.componentInstance.$emit("scrollReachBottom",t):a.elm.dispatchEvent(new CustomEvent("scrollReachBottom",t))});var s=xr(function(t){a.componentInstance?a.componentInstance.$emit("vScroll",t):a.elm.dispatchEvent(new CustomEvent("vScroll",t))},300);t.addEventListener("scroll",s)}}),s["a"].filter("msToMinutes",function(t){var e=Math.floor(t/6e4),a=(t%6e4/1e3).toFixed(0);return e+":"+(a<10?"0":"")+a}),s["a"].filter("convertURLs",function(t){var e=t;return e=e.replace(new RegExp("https://open.spotify.com/genre/","g"),"#/genres/"),e=e.replace(new RegExp("spotify:user:spotify:playlist:","g"),"#/user/spotify/playlist/"),e});a("5c3a"),a("d06d");s["a"].component("icon",yn["a"]),s["a"].component("vueSlider",En["a"]),s["a"].use(kn.a),s["a"].use(wn.a),s["a"].use(Cn.a),s["a"].config.productionTip=!1,new s["a"]({router:jr,store:Qt,render:function(t){return t(bn)}}).$mount("#app")},5799:function(t,e,a){"use strict";var s=a("99ef"),r=a.n(s);r.a},"58ad":function(t,e,a){"use strict";var s=a("dbeb"),r=a.n(s);r.a},"5ba4":function(t,e,a){},"5dd5":function(t,e,a){},"613d":function(t,e,a){"use strict";var s=a("db52"),r=a.n(s);r.a},7160:function(t,e,a){"use strict";var s=a("3764"),r=a.n(s);r.a},"71ca":function(t,e,a){"use strict";var s=a("8da8"),r=a.n(s);r.a},"72b9":function(t,e,a){"use strict";var s=a("747e"),r=a.n(s);r.a},"747e":function(t,e,a){},"74ab":function(t,e,a){},"772f":function(t,e,a){"use strict";var s=a("a5c2"),r=a.n(s);r.a},"77f7":function(t,e,a){"use strict";var s=a("8453"),r=a.n(s);r.a},"79bf":function(t,e,a){"use strict";var s=a("8710"),r=a.n(s);r.a},"82f6":function(t,e,a){},8453:function(t,e,a){},8710:function(t,e,a){},8917:function(t,e,a){"use strict";var s=a("5dd5"),r=a.n(s);r.a},8996:function(t,e,a){},"8d08":function(t,e,a){},"8da8":function(t,e,a){},9046:function(t,e,a){"use strict";var s=a("fcb1"),r=a.n(s);r.a},"930b":function(t,e,a){},"99da":function(t,e,a){"use strict";var s=a("46ae"),r=a.n(s);r.a},"99ef":function(t,e,a){},"9c4a":function(t,e,a){},"9f16":function(t,e,a){"use strict";var s=a("cd8d"),r=a.n(s);r.a},a5c2:function(t,e,a){},a6fc:function(t,e,a){"use strict";var s=a("3705"),r=a.n(s);r.a},ab9f:function(t,e,a){},af8d:function(t,e,a){},b2bd:function(t,e,a){},b7f3:function(t,e,a){},b809:function(t,e,a){"use strict";var s=a("4271"),r=a.n(s);r.a},b88b:function(t,e,a){"use strict";var s=a("bd10"),r=a.n(s);r.a},bd10:function(t,e,a){},bdce:function(t,e,a){"use strict";var s=a("fd2c"),r=a.n(s);r.a},c0f8:function(t,e,a){"use strict";var s=a("1f31"),r=a.n(s);r.a},c121:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOIAAABsCAYAAAB3qm5/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABuZJREFUeNrsne112koQhpd7/P9SAqkAXIFxBXEquHIFMRUYV4BTAaQCcAXgCowrMKnApAJlx8weNrpCXwhLSM9zjo74EJJY7auZ2V3tGAMAAAAAAAAAAAAAezrncqJhGAZ2NeWStZqHTqczRojVCvHdrrrUxZZbDgtCrFaIob4c2WVNlWwVA7tMmizEizM857W9FivqZnvY34Obyz9cZgCECAAIEQAhAgBCBECIAIAQARAiACBEAIQIAAgRACECAEIEQIgAgBABECIAIEQAhAgACBEAIQIAQgRAiACAEAEQIgAgRACECAAIEQAhAgBCBECIAIAQAc6bC4oA6o7mw+w0+T9iEQGwiAD/JwzDrtml664rkrV6ixCh6SJ8s0u3zkK0yyWuKTSZQc1FaE5hrbGIUFus+1erBhprrYd2tWx1jFi3iwKAawrQMC4SzHDPrnotLpvSW8YAcgnRinBsV/ctL5utLYdLK8YN1QSqck2vKJqPlruAYoBKXVPlwVqEcdsKxVpCaRkbUj2gaosIAAgRACECNCXE6EqYEe6Y6/A5hAjwyUy8WP/G1LjxDSFCk+mmvEeIAJ/AD++1DM5Y1PVEGfQNjUWe7Ldx4RezGyG2qfPgDIQITRejiG9T9/PENQVAiACAEAEQIgAgRACECAAIEQAhAgBCBECIAKcnDMNAH3t6C/9G3k/tcoMQAU4rwHf7cmp2jz31IpvI+8AuTqS1ESRjTaEJAux64nNIfoonu6y8z4Z2+Wp2U+b3VJCzTqdzixABjhfh0uzzUYjwbg88aSHfjXXq/In+RqyoqVqMuKZw7kw9Ecqsg9dpjzvJ41F2kWxOM/1IxDhBiAB7NhF3MjEm9NzRx7xTf6oVdGK8U0uJEAHEmolVsy+vM2zuZqMXCzcqeMiR2T+vWNns9sSIUFdBrlKsod8q+nDEcSS1woO6uEP7emA/WxeIU4/JmbhGiFAIFcLElJ+oSEQwShOi2bV+fmyfYds0Mc40Ruyqq7vOuYvlsULENYUiIpRKOzenyRYmFXqp8V8S7tirko7rJpbq5yyLgTk+g/AAiwh5RTi0qzvPeolbV1b6uq5nZSf2WIuE1HhDXb+WdOxf3jnkPWdnWTsFynJJjAhFcC6hNHBcl51D0lZOEfeb2Wfjekz5yaYJhYprCnlxlmhxikSu2ge4yuAmbjxXFiFC63AV/zkaK2meiWUJx3iOiD5JiP2S/le/SguLECFvTGO8+DAaKw1NjrySdn93Kt5x5CtnEXsJiWOyiDXrebjW0jJjToQIJ7eGWzeMzFlCs2tkcRU71TJqq6hLEnMvojwg8kOu58ITa3Dk/7qL2S9ChNpyFbFYviUcROLINEvVi7z/6sWJW89FHB6IJdfeeUyKplyzv5Pz+K5vZ1VNy48Qs1+wZdhOghjr9BqJ1aQLY+Z99mDSR7tEXdufB9zTpBhw5N0MlnnFqNvP9fdbc8QIHYQIp2btVdpe1CLq2NCxLyR5nzYA234vLuA3rfzy2NIssslrWgyoVnHk3SQyi1E74v0RMaMqk9TQj5idkalxfr1T4Y27HCRYM98y5tn3IiEmc8eQrL+9QyKxnz/a78VqBnqO8uS9pGN7jOteUVc0UHfUXc+4GwFCrHmFbCvOMq3jKrgKZVxieUtKNd8l3iRse2u3FQt6r+K61waglQr6t13+jYlltyrCyvMmpgnxKqZpuQ30uPUcbKj5zBvSSsVzZVJaM9UyLlSEQYZGo5m6o9s6FG6aEJP+SBvYoj9jIq7pZ/azrWOsWJIYxWqKdZQwQvoF+5HfPqtlXdRFgGlClD8yaXnF25q/WwJbi8ZVXc9KHdrOTeKUNZZepzzQm9pgc0CQXDtopBAD15eRst28QPfIJGF/A2+7QQ3KYRgth7jPiuyPxhrIQj+DNfSnM1xkcGH7ur0Mc3uNa7WUBjL73dbsBw2cZYOZCO7Yh5cB/MEMkzSLqYLMsk/plnjxfjdMOfa0DoLKaxGlzPTru6T90aEPefgdU5luNC50jSuZJnHSOO7a7Lsl5gfcTze4u3emZfbLa3M4yEWVU8idKZu8IzC0gtVmMMARbtJVzP9yIpQyyfWgsE7cJKNrllo+IsZLtw9t/PnPE/nZId0qJv3h5o9W0yXaysXKZJvqz+elZq7mdU4x/tQYTVwpGZv5pDFeYPbjNL8V6RLQOFDmF3Vz4LzoyBjZ13fPEj75Ll1FRTdIc12L7q9TpLWn7ULUeTfzVPy6lfFlgSkDp2bfUe6zVUu4PvLmEHjWNcqj6+bw53mp2NJ1PK/gBVnAZ1rSwGs8cSnOeiXuf6hdIO96jGU0Y1NMqrUqmEbOaV7m/gAAAAAAAAAAAADgjwADAAjxI2+MHXDqAAAAAElFTkSuQmCC"},c411:function(t,e,a){},ca91:function(t,e,a){"use strict";var s=a("1e40"),r=a.n(s);r.a},ca98:function(t,e,a){},cd8d:function(t,e,a){},cf25:function(t,e,a){"use strict";var s=a("0cfb"),r=a.n(s);r.a},d005:function(t,e,a){"use strict";var s=a("5ba4"),r=a.n(s);r.a},d172:function(t,e,a){"use strict";var s=a("b7f3"),r=a.n(s);r.a},db52:function(t,e,a){},dbeb:function(t,e,a){},e058:function(t,e,a){"use strict";var s=a("9c4a"),r=a.n(s);r.a},ea7c:function(t,e,a){"use strict";var s=a("b2bd"),r=a.n(s);r.a},ed9c:function(t,e,a){"use strict";var s=a("74ab"),r=a.n(s);r.a},fcb1:function(t,e,a){},fd2c:function(t,e,a){}});
//# sourceMappingURL=app.f8c3aa3e.js.map